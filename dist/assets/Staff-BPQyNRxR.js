import{b as r,j as e,U as D,m as a,Q as de,O as pe,p as O,K as xe,J as ce,w as B,a4 as _,H as v,M as C,q as F,k as ge,X as P}from"./vendor-DbctvGWH.js";import{u as he,b as fe,i as h}from"./index-DWUfvi34.js";import{S as be}from"./SEO-FujI0jRl.js";import{u as T,w as ue}from"./excel-BfgxwUJi.js";const ke=()=>{const{user:ye}=he(),{selectedCompany:d}=fe(),[M,H]=r.useState([]),[U,$]=r.useState([]),[me,Y]=r.useState(!0),[G,w]=r.useState(!1),[x,X]=r.useState("list"),[z,V]=r.useState(""),[b,q]=r.useState(new Date().toISOString().split("T")[0]),[I,je]=r.useState("all"),[i,l]=r.useState({name:"",mobile:"",username:"",password:"",salary:0,monthlyLeaveAllowance:4,email:"",designation:"",shiftTiming:{start:"09:00",end:"18:00"},officeLocation:{latitude:"",longitude:"",address:"",radius:200}}),[A,k]=r.useState(!1),[y,K]=r.useState([]),[N,Z]=r.useState([]),[c,J]=r.useState((new Date().getMonth()+1).toString()),[g,Q]=r.useState(new Date().getFullYear().toString()),[p,W]=r.useState(null);r.useEffect(()=>{d&&(m(),E(),R(),x==="summary"&&ee())},[d,b,x,c,g]);const R=async()=>{if(d?._id)try{const{data:t}=await h.get(`/api/admin/leaves/pending/${d._id}`);K(t)}catch(t){console.error("Error fetching pending leaves:",t)}},ee=async()=>{if(d?._id)try{const{data:t}=await h.get(`/api/admin/staff-attendance/${d._id}?month=${c}&year=${g}`);Z(t.report||[])}catch(t){console.error("Error fetching monthly report:",t)}},L=async(t,n)=>{try{await h.patch(`/api/admin/leaves/${t}`,{status:n}),R(),E()}catch{alert("Error updating leave status")}},m=async()=>{if(d?._id)try{const{data:t}=await h.get(`/api/admin/staff/${d._id}`);H(t)}catch(t){console.error("Error fetching staff:",t)}},E=async()=>{if(d?._id)try{const{data:t}=await h.get(`/api/admin/staff-attendance/${d._id}`);$(t),Y(!1)}catch(t){console.error("Error fetching staff attendance:",t)}},te=()=>{const t=u.map(s=>({Date:s.date,"Staff Name":s.staff?.name||"Unknown",Mobile:s.staff?.mobile||"N/A","Punch In Time":s.punchIn?.time?new Date(s.punchIn.time).toLocaleTimeString():"—","Punch In Location":s.punchIn?.location?.address||"N/A","Punch Out Time":s.punchOut?.time?new Date(s.punchOut.time).toLocaleTimeString():s.status==="absent"?"Leave":"On Duty","Punch Out Location":s.punchOut?.location?.address||"N/A",Status:s.status||"Present"})),n=T.json_to_sheet(t),o=T.book_new();T.book_append_sheet(o,n,"Staff Attendance"),ue(o,`Staff_Attendance_${b}.xlsx`)},ie=()=>{k(!0),navigator.geolocation.getCurrentPosition(async t=>{const{latitude:n,longitude:o}=t.coords;let s=`Lat: ${n.toFixed(6)}, Lng: ${o.toFixed(6)}`;try{const f=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${n}&lon=${o}&zoom=18`)).json();f.display_name&&(s=f.display_name)}catch{}l({...i,officeLocation:{...i.officeLocation,latitude:n,longitude:o,address:s}}),k(!1)},t=>{alert("Location error: "+t.message),k(!1)},{enableHighAccuracy:!0})},ne=async t=>{t.preventDefault();try{await h.post("/api/admin/staff",{...i,companyId:d._id}),w(!1),m(),l({name:"",mobile:"",username:"",password:"",salary:0,monthlyLeaveAllowance:4,email:"",designation:"",shiftTiming:{start:"09:00",end:"18:00"},officeLocation:{latitude:"",longitude:"",address:"",radius:200}})}catch(n){alert(n.response?.data?.message||"Error adding staff")}},se=async t=>{if(window.confirm("Are you sure you want to delete this staff member?"))try{await h.delete(`/api/admin/staff/${t}`),m()}catch(n){alert(n.response?.data?.message||"Error deleting staff")}},re=async t=>{const n=t.status==="blocked"?"active":"blocked";try{await h.put(`/api/admin/staff/${t._id}`,{status:n}),m()}catch{alert("Error updating status")}},ae=M.filter(t=>(t.name||"").toLowerCase().includes(z.toLowerCase())||(t.mobile||"").includes(z)),u=U.filter(t=>{const n=t.date===b,o=I==="all"||t.staff?._id===I;return n&&o});return e.jsxs("div",{style:{minHeight:"100vh",background:"#020617",padding:"30px",color:"white",position:"relative"},children:[e.jsx(be,{title:"Staff Ecosystem"}),e.jsx("div",{style:{position:"absolute",top:"-10%",right:"-10%",width:"30%",height:"30%",background:"radial-gradient(circle, rgba(14, 165, 233, 0.1) 0%, transparent 70%)",filter:"blur(100px)",pointerEvents:"none"}}),e.jsx("div",{style:{position:"absolute",bottom:"10%",left:"-10%",width:"40%",height:"40%",background:"radial-gradient(circle, rgba(99, 102, 241, 0.08) 0%, transparent 70%)",filter:"blur(100px)",pointerEvents:"none"}}),e.jsx("header",{style:{paddingBottom:"30px",marginBottom:"40px",borderBottom:"1px solid rgba(255,255,255,0.05)",position:"relative",zIndex:2},children:e.jsxs("div",{className:"flex-resp",style:{justifyContent:"space-between",alignItems:"flex-start",gap:"24px"},children:[e.jsx("div",{style:{flex:1},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"18px"},children:[e.jsxs("div",{style:{width:"56px",height:"56px",background:"linear-gradient(135deg, #0ea5e9, #6366f1)",borderRadius:"18px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 10px 30px rgba(14, 165, 233, 0.3)",position:"relative",overflow:"hidden"},children:[e.jsx(D,{size:28,color:"white"}),e.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"linear-gradient(rgba(255,255,255,0.2), transparent)",pointerEvents:"none"}})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"4px"},children:[e.jsx("span",{style:{fontSize:"10px",fontWeight:"900",color:"#fbbf24",letterSpacing:"2px",textTransform:"uppercase"},children:"Human Resources"}),e.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",background:"rgba(255,255,255,0.2)"}}),e.jsx("span",{style:{fontSize:"10px",fontWeight:"800",color:"rgba(255,255,255,0.4)",textTransform:"uppercase"},children:"Asset Ops"})]}),e.jsxs("h1",{style:{color:"white",fontSize:"clamp(28px, 6vw, 36px)",fontWeight:"900",margin:0,letterSpacing:"-1.5px"},children:["Staff ",e.jsx("span",{style:{background:"linear-gradient(to right, #0ea5e9, #6366f1)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Ecosystem"})]})]})]})}),e.jsxs("div",{className:"flex-resp",style:{gap:"15px",alignItems:"center"},children:[e.jsx("div",{style:{background:"rgba(15, 23, 42, 0.4)",borderRadius:"16px",padding:"6px",display:"flex",border:"1px solid rgba(255,255,255,0.08)",backdropFilter:"blur(10px)"},children:["list","attendance","leaves","summary"].map(t=>e.jsxs("button",{onClick:()=>X(t),style:{padding:"10px 20px",borderRadius:"12px",border:"none",background:x===t?"linear-gradient(135deg, #0ea5e9, #6366f1)":"transparent",color:"white",fontWeight:"800",fontSize:"11px",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",textTransform:"uppercase",boxShadow:x===t?"0 4px 15px rgba(14, 165, 233, 0.2)":"none"},children:[t==="attendance"?"LOGS":t,t==="leaves"&&y.length>0&&e.jsx("span",{style:{background:"#f43f5e",padding:"1px 7px",borderRadius:"20px",fontSize:"9px",marginLeft:"6px",border:"1px solid rgba(255,255,255,0.2)"},children:y.length})]},t))}),e.jsxs(a.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>w(!0),style:{display:"flex",alignItems:"center",gap:"10px",height:"52px",padding:"0 24px",fontSize:"13px",fontWeight:"900",background:"linear-gradient(135deg, #0ea5e9, #6366f1)",color:"white",border:"none",borderRadius:"16px",cursor:"pointer",boxShadow:"0 10px 20px -5px rgba(99, 102, 241, 0.4)"},children:[e.jsx(de,{size:20})," ",e.jsx("span",{className:"hide-mobile",children:"ONBOARD STAFF"}),e.jsx("span",{className:"show-mobile",children:"ADD"})]})]})]})}),e.jsxs("div",{className:"flex-resp",style:{gap:"20px",marginBottom:"30px"},children:[e.jsxs("div",{style:{flex:1,minWidth:"0",position:"relative"},children:[e.jsx("input",{type:"text",placeholder:"Search staff...",value:z,onChange:t=>V(t.target.value),className:"input-field",style:{width:"100%",paddingLeft:"45px",marginBottom:0,height:"52px",fontSize:"14px"}}),e.jsx(pe,{size:18,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}})]}),x==="attendance"&&e.jsxs("div",{className:"flex-resp",style:{gap:"10px",width:"100%",flex:1,justifyContent:"flex-end"},children:[e.jsxs("div",{style:{position:"relative",flex:1,minWidth:"0"},children:[e.jsx("input",{type:"date",className:"input-field",value:b,onChange:t=>q(t.target.value),style:{width:"100%",marginBottom:0,height:"52px",paddingLeft:"45px",fontSize:"14px"}}),e.jsx(O,{size:18,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"var(--primary)"}})]}),e.jsxs("button",{onClick:te,className:"btn-primary",style:{background:"rgba(16, 185, 129, 0.1)",color:"#10b981",border:"1px solid rgba(16, 185, 129, 0.1)",display:"flex",alignItems:"center",gap:"8px",height:"52px",padding:"0 20px",fontSize:"12px",fontWeight:"900"},children:[e.jsx(xe,{size:20})," ",e.jsx("span",{className:"hide-mobile",children:"EXPORT EXCEL"}),e.jsx("span",{className:"show-mobile",children:"EXCEL"})]})]}),x==="summary"&&e.jsxs("div",{className:"flex-resp",style:{gap:"10px",width:"100%",flex:1,justifyContent:"flex-end"},children:[e.jsx("select",{className:"input-field",value:c,onChange:t=>J(t.target.value),style:{width:"150px",marginBottom:0,height:"52px"},children:Array.from({length:12},(t,n)=>e.jsx("option",{value:(n+1).toString(),children:new Date(2e3,n).toLocaleString("default",{month:"long"})},n+1))}),e.jsxs("select",{className:"input-field",value:g,onChange:t=>Q(t.target.value),style:{width:"120px",marginBottom:0,height:"52px"},children:[e.jsx("option",{value:"2025",children:"2025"}),e.jsx("option",{value:"2026",children:"2026"})]})]})]}),x==="list"?e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"24px"},children:ae.map((t,n)=>e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.05},whileHover:{y:-5,boxShadow:"0 20px 40px -10px rgba(0,0,0,0.5)"},style:{background:"rgba(30, 41, 59, 0.4)",backdropFilter:"blur(10px)",borderRadius:"24px",padding:"28px",border:"1px solid rgba(255,255,255,0.06)",position:"relative",overflow:"hidden"},children:[e.jsx("div",{style:{position:"absolute",top:0,right:0,width:"100px",height:"100px",background:"radial-gradient(circle, rgba(14, 165, 233, 0.05) 0%, transparent 70%)",pointerEvents:"none"}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",marginBottom:"24px"},children:[e.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"20px",background:t.status==="blocked"?"#334155":"linear-gradient(135deg, #0ea5e9, #6366f1)",display:"flex",justifyContent:"center",alignItems:"center",color:"white",fontSize:"26px",fontWeight:"900",boxShadow:t.status==="blocked"?"none":"0 10px 20px rgba(14, 165, 233, 0.2)"},children:(t.name||"?").charAt(0)}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{style:{margin:0,color:"white",fontSize:"20px",fontWeight:"900",letterSpacing:"-0.5px"},children:t.name||"Unnamed Staff"}),e.jsx("p",{style:{margin:"4px 0 0 0",color:"#10b981",fontSize:"13px",fontWeight:"700"},children:t.designation||"Staff Member"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"24px"},children:[e.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",padding:"15px",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.03)"},children:[e.jsx("p",{style:{fontSize:"10px",color:"var(--text-muted)",margin:"0 0 6px 0",textTransform:"uppercase",fontWeight:"800",letterSpacing:"0.5px"},children:"Mobile"}),e.jsx("p",{style:{margin:0,color:"white",fontWeight:"800",fontSize:"14px"},children:t.mobile||"—"})]}),e.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",padding:"15px",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.03)"},children:[e.jsx("p",{style:{fontSize:"10px",color:"var(--text-muted)",margin:"0 0 6px 0",textTransform:"uppercase",fontWeight:"800",letterSpacing:"0.5px"},children:"Monthly Salary"}),e.jsxs("p",{style:{margin:0,color:"#10b981",fontWeight:"900",fontSize:"14px"},children:["₹",t.salary?.toLocaleString()||"0"]})]}),e.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",padding:"15px",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.03)"},children:[e.jsx("p",{style:{fontSize:"10px",color:"var(--text-muted)",margin:"0 0 6px 0",textTransform:"uppercase",fontWeight:"800",letterSpacing:"0.5px"},children:"Login ID"}),e.jsx("p",{style:{margin:0,color:"white",fontWeight:"800",fontSize:"14px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.username||"Not Set"})]}),e.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",padding:"15px",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.03)"},children:[e.jsx("p",{style:{fontSize:"10px",color:"var(--text-muted)",margin:"0 0 6px 0",textTransform:"uppercase",fontWeight:"800",letterSpacing:"0.5px"},children:"Paid Leaves"}),e.jsxs("p",{style:{margin:0,color:"#fbbf24",fontWeight:"900",fontSize:"14px"},children:[t.monthlyLeaveAllowance||4," / Mo"]})]})]}),e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsx(a.button,{whileHover:{scale:1.02},onClick:()=>re(t),style:{flex:2,background:t.status==="blocked"?"rgba(16, 185, 129, 0.1)":"rgba(255, 255, 255, 0.05)",color:t.status==="blocked"?"#10b981":"white",border:t.status==="blocked"?"1px solid rgba(16, 185, 129, 0.2)":"1px solid rgba(255,255,255,0.1)",padding:"12px",borderRadius:"14px",cursor:"pointer",fontSize:"12px",fontWeight:"900",textTransform:"uppercase"},children:t.status==="blocked"?"UNBLOCK ACCESS":"BLOCK ACCESS"}),e.jsx(a.button,{whileHover:{scale:1.05},onClick:()=>se(t._id),style:{flex:1,background:"rgba(244, 63, 94, 0.1)",color:"#f43f5e",border:"1px solid rgba(244, 63, 94, 0.2)",padding:"12px",borderRadius:"14px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(ce,{size:18})})]})]},t._id))}):x==="attendance"?e.jsxs("div",{style:{marginTop:"10px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"25px"},children:[e.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#0ea5e9",boxShadow:"0 0 15px #0ea5e9"}}),e.jsx("h2",{style:{color:"white",fontSize:"18px",fontWeight:"900",margin:0,letterSpacing:"-0.5px"},children:"ATTENDANCE INTELLIGENCE"}),e.jsxs("span",{style:{fontSize:"12px",color:"rgba(255,255,255,0.4)",fontWeight:"600",marginLeft:"auto"},children:[u.length," Records Found"]})]}),e.jsx("div",{style:{background:"rgba(15, 23, 42, 0.4)",borderRadius:"24px",border:"1px solid rgba(255,255,255,0.06)",overflow:"hidden",backdropFilter:"blur(10px)"},className:"hide-mobile",children:e.jsx("div",{className:"scroll-x",children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",color:"white"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"rgba(255,255,255,0.02)",textAlign:"left"},children:[e.jsx("th",{style:{padding:"20px 25px",color:"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Staff Unit"}),e.jsx("th",{style:{padding:"20px 25px",color:"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Check In"}),e.jsx("th",{style:{padding:"20px 25px",color:"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Check Out"}),e.jsx("th",{style:{padding:"20px 25px",color:"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Verify"}),e.jsx("th",{style:{padding:"20px 25px",color:"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Geo Location"})]})}),e.jsx("tbody",{children:u.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:"5",style:{padding:"100px",textAlign:"center",color:"rgba(255,255,255,0.3)"},children:[e.jsx(D,{size:40,style:{opacity:.1,marginBottom:"15px"}}),e.jsxs("p",{style:{margin:0,fontWeight:"700",fontSize:"14px"},children:["No active signals detected for ",b]})]})}):u.map(t=>e.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.03)",transition:"0.2s"},className:"table-row-hover",children:[e.jsxs("td",{style:{padding:"20px 25px"},children:[e.jsx("div",{style:{fontWeight:"900",color:"white",fontSize:"15px"},children:t.staff?.name||"N/A"}),e.jsx("div",{style:{fontSize:"11px",color:"rgba(255,255,255,0.4)",marginTop:"4px",fontWeight:"600"},children:t.staff?.mobile||"No Mobile"})]}),e.jsx("td",{style:{padding:"20px 25px"},children:e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",color:"#10b981",fontWeight:"800",fontSize:"14px",background:"rgba(16, 185, 129, 0.05)",padding:"6px 12px",borderRadius:"10px"},children:[e.jsx(B,{size:14}),t.punchIn?.time?new Date(t.punchIn.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"—"]})}),e.jsx("td",{style:{padding:"20px 25px"},children:t.punchOut?.time?e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",color:"#f43f5e",fontWeight:"800",fontSize:"14px",background:"rgba(244, 63, 94, 0.05)",padding:"6px 12px",borderRadius:"10px"},children:[e.jsx(_,{size:14}),new Date(t.punchOut.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}):e.jsx("span",{style:{color:"#0ea5e9",fontSize:"10px",fontWeight:"900",background:"rgba(14, 165, 233, 0.1)",padding:"6px 14px",borderRadius:"30px",letterSpacing:"0.5px"},children:"ON DUTY"})}),e.jsx("td",{style:{padding:"20px 25px"},children:e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[t.punchIn?.photo&&e.jsx(a.button,{whileHover:{scale:1.1},onClick:()=>window.open(t.punchIn.photo,"_blank"),style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",color:"white",padding:"10px",borderRadius:"12px",cursor:"pointer"},title:"Punch-In Visual",children:e.jsx(v,{size:16})}),t.punchOut?.photo&&e.jsx(a.button,{whileHover:{scale:1.1},onClick:()=>window.open(t.punchOut.photo,"_blank"),style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",color:"white",padding:"10px",borderRadius:"12px",cursor:"pointer"},title:"Punch-Out Visual",children:e.jsx(v,{size:16})})]})}),e.jsx("td",{style:{padding:"20px 25px"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px",maxWidth:"280px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"12px",color:"rgba(255,255,255,0.6)",fontWeight:"500"},children:[e.jsx(C,{size:14,style:{color:"#0ea5e9"}}),e.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.punchIn?.location?.address||"Geolocation Encrypted"})]}),t.punchIn?.location?.latitude&&e.jsxs("a",{href:`https://www.google.com/maps?q=${t.punchIn.location.latitude},${t.punchIn.location.longitude}`,target:"_blank",rel:"noopener noreferrer",style:{fontSize:"10px",color:"#0ea5e9",fontWeight:"800",letterSpacing:"0.5px",textDecoration:"none",display:"flex",alignItems:"center",gap:"4px"},children:["TRACK COORDINATES ",e.jsx(F,{size:10})]})]})})]},t._id))})]})})}),e.jsx("div",{className:"show-mobile",children:e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:u.map(t=>e.jsxs(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:{background:"rgba(30, 41, 59, 0.4)",borderRadius:"20px",padding:"20px",border:"1px solid rgba(255,255,255,0.06)",display:"flex",flexDirection:"column",gap:"15px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"900",fontSize:"16px",color:"white"},children:t.staff?.name}),e.jsxs("div",{style:{fontSize:"11px",color:"rgba(255,255,255,0.4)",fontWeight:"700",marginTop:"2px"},children:["UNIT ID: ",t.staff?.username]})]}),e.jsx("div",{style:{background:t.punchOut?.time?"rgba(244, 63, 94, 0.1)":t.status==="absent"?"rgba(251, 191, 36, 0.1)":"rgba(14, 165, 233, 0.1)",padding:"6px 12px",borderRadius:"10px",fontSize:"10px",fontWeight:"900",color:t.punchOut?.time?"#f43f5e":t.status==="absent"?"#fbbf24":"#0ea5e9"},children:t.punchOut?.time?"COMPLETED":t.status==="absent"?"LEAVE":"ACTIVE"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",background:"rgba(0,0,0,0.2)",padding:"15px",borderRadius:"16px"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"9px",fontWeight:"900",color:"rgba(255,255,255,0.3)",textTransform:"uppercase",marginBottom:"8px"},children:"CHECK IN"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(B,{size:14,style:{color:"#10b981"}}),e.jsx("span",{style:{fontSize:"14px",fontWeight:"900",color:"white"},children:t.punchIn?.time||"—"})]})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"9px",fontWeight:"900",color:"rgba(255,255,255,0.3)",textTransform:"uppercase",marginBottom:"8px"},children:"CHECK OUT"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(_,{size:14,style:{color:"#f43f5e"}}),e.jsx("span",{style:{fontSize:"14px",fontWeight:"900",color:"white"},children:t.punchOut?.time||"—"})]})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",gap:"8px",fontSize:"11px",color:"rgba(255,255,255,0.5)",fontWeight:"600"},children:[e.jsx(C,{size:12,style:{color:"#0ea5e9"}}),e.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.punchIn?.location?.address||(t.status==="absent"?"On Approved Leave":"Locality Locked")})]}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.punchIn?.photo&&e.jsx(v,{size:16,style:{color:"rgba(255,255,255,0.4)"}}),t.punchOut?.photo&&e.jsx(v,{size:16,style:{color:"rgba(255,255,255,0.4)"}})]})]})]},t._id))})})]}):x==="leaves"?e.jsxs("div",{style:{background:"rgba(15, 23, 42, 0.4)",borderRadius:"24px",padding:"30px",border:"1px solid rgba(255,255,255,0.06)",backdropFilter:"blur(10px)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"25px"},children:[e.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#fbbf24",boxShadow:"0 0 15px #fbbf24"}}),e.jsx("h3",{style:{fontSize:"18px",fontWeight:"900",margin:0,letterSpacing:"-0.5px"},children:"PENDING LEAVE APPROVALS"})]}),y.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"80px 0"},children:[e.jsx(O,{size:48,style:{opacity:.1,marginBottom:"20px"}}),e.jsx("p",{style:{color:"rgba(255,255,255,0.3)",margin:0,fontWeight:"700",fontSize:"15px"},children:"Clear schedule. No requests awaiting review."})]}):e.jsx("div",{className:"scroll-x",children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[e.jsx("th",{style:{padding:"15px",color:"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Staff Force"}),e.jsx("th",{style:{padding:"15px",color:"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Duration"}),e.jsx("th",{style:{padding:"15px",color:"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Context/Reason"}),e.jsx("th",{style:{padding:"15px",color:"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Protocol"})]})}),e.jsx("tbody",{children:y.map(t=>e.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[e.jsxs("td",{style:{padding:"20px 15px"},children:[e.jsx("div",{style:{fontWeight:"900",fontSize:"15px"},children:t.staff?.name||"N/A"}),e.jsxs("div",{style:{fontSize:"11px",color:"#10b981",fontWeight:"800",marginTop:"4px"},children:["LV-",t._id.slice(-6).toUpperCase()]})]}),e.jsxs("td",{style:{padding:"20px 15px"},children:[e.jsxs("div",{style:{fontSize:"14px",fontWeight:"800",color:"white"},children:[t.startDate," ",e.jsx(F,{size:10,style:{margin:"0 4px",opacity:.3}})," ",t.endDate]}),e.jsx("div",{style:{fontSize:"11px",color:"#fbbf24",fontWeight:"800",textTransform:"uppercase",marginTop:"4px"},children:t.type})]}),e.jsx("td",{style:{padding:"20px 15px"},children:e.jsx("div",{style:{fontSize:"13px",color:"rgba(255,255,255,0.6)",maxWidth:"250px",lineHeight:"1.4"},children:t.reason||"No statement provided."})}),e.jsx("td",{style:{padding:"20px 15px"},children:e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsx(a.button,{whileHover:{scale:1.05},onClick:()=>L(t._id,"Approved"),style:{background:"rgba(16, 185, 129, 0.15)",color:"#10b981",border:"1px solid rgba(16, 185, 129, 0.2)",padding:"10px 18px",borderRadius:"12px",fontSize:"11px",fontWeight:"900",cursor:"pointer"},children:"AUTHORIZE"}),e.jsx(a.button,{whileHover:{scale:1.05},onClick:()=>L(t._id,"Rejected"),style:{background:"rgba(244, 63, 94, 0.15)",color:"#f43f5e",border:"1px solid rgba(244, 63, 94, 0.2)",padding:"10px 18px",borderRadius:"12px",fontSize:"11px",fontWeight:"900",cursor:"pointer"},children:"DECLINE"})]})})]},t._id))})]})})]}):e.jsxs("div",{style:{padding:"10px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"24px",fontWeight:"900",color:"white",margin:0},children:"Salary Report Overview"}),e.jsxs("p",{style:{color:"rgba(255,255,255,0.4)",fontSize:"14px",margin:"5px 0 0 0"},children:["Detailed payment list for ",new Date(g,c-1).toLocaleString("default",{month:"long"})]})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("p",{style:{fontSize:"11px",color:"rgba(255,255,255,0.4)",margin:"0 0 4px 0",fontWeight:"900"},children:"TOTAL COMPANY PAYOUT"}),e.jsxs("h2",{style:{fontSize:"24px",fontWeight:"900",color:"#fbbf24",margin:0},children:["₹",N.reduce((t,n)=>t+(n.finalSalary||0),0).toLocaleString()]})]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:N.map(t=>e.jsxs(a.div,{onClick:()=>W(t),whileHover:{y:-4,background:"rgba(30, 41, 59, 0.4)"},style:{background:"rgba(15, 23, 42, 0.6)",borderRadius:"24px",padding:"24px",border:"1px solid rgba(255,255,255,0.08)",display:"flex",alignItems:"center",gap:"24px",cursor:"pointer",transition:"0.3s"},children:[e.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"18px",background:"linear-gradient(135deg, #3b82f6, #6366f1)",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"20px",fontWeight:"900",color:"white"},children:t.name.charAt(0)}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{style:{fontSize:"18px",fontWeight:"800",margin:0,color:"white"},children:t.name}),e.jsxs("p",{style:{fontSize:"11px",color:"rgba(255,255,255,0.4)",fontWeight:"700",margin:"4px 0 0 0",textTransform:"uppercase",letterSpacing:"0.5px"},children:[t.designation||"Staff Member"," • ",t.staffId]})]}),e.jsxs("div",{style:{display:"flex",gap:"40px",alignItems:"center"},children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("p",{style:{fontSize:"9px",color:"rgba(255,255,255,0.4)",fontWeight:"900",marginBottom:"4px"},children:"PRESENT"}),e.jsxs("span",{style:{fontSize:"16px",fontWeight:"900",color:"#10b981"},children:[t.presentDays,"d"]})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("p",{style:{fontSize:"9px",color:"rgba(255,255,255,0.4)",fontWeight:"900",marginBottom:"4px"},children:"ABSENT"}),e.jsxs("span",{style:{fontSize:"16px",fontWeight:"900",color:t.extraLeaves>0?"#f43f5e":"rgba(255,255,255,0.2)"},children:[t.extraLeaves,"d"]})]}),e.jsxs("div",{style:{textAlign:"right",minWidth:"120px",padding:"12px 20px",background:"rgba(255,255,255,0.03)",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsx("p",{style:{fontSize:"9px",color:"rgba(255,255,255,0.4)",fontWeight:"900",marginBottom:"2px"},children:"FINAL PAYOUT"}),e.jsxs("span",{style:{fontSize:"20px",fontWeight:"900",color:"#fbbf24"},children:["₹",(t.finalSalary||0).toLocaleString()]})]})]})]},t.staffId))})]}),e.jsxs(ge,{children:[G&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(2, 6, 23, 0.85)",backdropFilter:"blur(10px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"20px"},children:e.jsxs(a.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9},style:{maxWidth:"650px",width:"100%",background:"#0f172a",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"32px",padding:"40px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"35px"},children:[e.jsxs("div",{children:[e.jsx("h2",{style:{color:"white",fontSize:"24px",fontWeight:"900",margin:0,letterSpacing:"-0.8px"},children:"Asset Onboarding"}),e.jsx("p",{style:{color:"rgba(255,255,255,0.4)",margin:"4px 0 0 0",fontSize:"13px",fontWeight:"600"},children:"Register new personnel to the ecosystem."})]}),e.jsx(a.button,{whileHover:{rotate:90},onClick:()=>w(!1),style:{background:"rgba(255,255,255,0.05)",color:"white",border:"none",width:"44px",height:"44px",borderRadius:"14px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},children:e.jsx(P,{size:20})})]}),e.jsxs("form",{onSubmit:ne,style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsxs("div",{children:[e.jsx("h4",{style:{color:"#0ea5e9",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1.5px",marginBottom:"18px"},children:"01. CORE IDENTITY"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{fontSize:"12px",fontWeight:"700",color:"rgba(255,255,255,0.5)",marginBottom:"10px",display:"block"},children:"FULL LEGAL NAME"}),e.jsx("input",{type:"text",required:!0,className:"input-field",placeholder:"First & Last Name",style:{height:"56px",background:"rgba(255,255,255,0.03)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.1)",color:"white",padding:"0 20px"},value:i.name,onChange:t=>l({...i,name:t.target.value})})]}),e.jsxs("div",{className:"form-grid-2",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:"12px",fontWeight:"700",color:"rgba(255,255,255,0.5)",marginBottom:"10px",display:"block"},children:"COMMUNICATION (MOB)"}),e.jsx("input",{type:"text",required:!0,className:"input-field",placeholder:"+91 XXXX XXXX",style:{height:"56px",width:"100%",background:"rgba(255,255,255,0.03)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.1)",color:"white",padding:"0 20px"},value:i.mobile,onChange:t=>l({...i,mobile:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:"12px",fontWeight:"700",color:"rgba(255,255,255,0.5)",marginBottom:"10px",display:"block"},children:"EMAIL (OFFICIAL)"}),e.jsx("input",{type:"email",className:"input-field",placeholder:"user@yatree.com",style:{height:"56px",width:"100%",background:"rgba(255,255,255,0.03)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.1)",color:"white",padding:"0 20px"},value:i.email,onChange:t=>l({...i,email:t.target.value})})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{color:"#6366f1",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1.5px",marginBottom:"18px"},children:"02. PROTOCOL & FINANCIALS"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{fontSize:"12px",fontWeight:"700",color:"rgba(255,255,255,0.5)",marginBottom:"10px",display:"block"},children:"ASSIGNED USERNAME"}),e.jsx("input",{type:"text",required:!0,className:"input-field",placeholder:"unique_id",style:{height:"56px",width:"100%",background:"rgba(255,255,255,0.03)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.1)",color:"white",padding:"0 20px"},value:i.username,onChange:t=>l({...i,username:t.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{fontSize:"12px",fontWeight:"700",color:"rgba(255,255,255,0.5)",marginBottom:"10px",display:"block"},children:"ACCESS PASSWORD"}),e.jsx("input",{type:"password",required:!0,className:"input-field",placeholder:"••••••••",style:{height:"56px",width:"100%",background:"rgba(255,255,255,0.03)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.1)",color:"white",padding:"0 20px"},value:i.password,onChange:t=>l({...i,password:t.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{fontSize:"12px",fontWeight:"700",color:"rgba(255,255,255,0.5)",marginBottom:"10px",display:"block"},children:"BASE SALARY (MONTHLY)"}),e.jsx("input",{type:"number",required:!0,className:"input-field",placeholder:"₹ Amount",style:{height:"56px",width:"100%",background:"rgba(255,255,255,0.03)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.1)",color:"white",padding:"0 20px"},value:i.salary,onChange:t=>l({...i,salary:t.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{fontSize:"12px",fontWeight:"700",color:"rgba(255,255,255,0.5)",marginBottom:"10px",display:"block"},children:"LEAVE ALLOWANCE (MO)"}),e.jsx("input",{type:"number",required:!0,className:"input-field",style:{height:"56px",width:"100%",background:"rgba(255,255,255,0.03)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.1)",color:"white",padding:"0 20px"},value:i.monthlyLeaveAllowance,onChange:t=>l({...i,monthlyLeaveAllowance:t.target.value})})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{color:"#fbbf24",fontSize:"11px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1.5px",marginBottom:"18px"},children:"03. GEOFENCING & SHIFTS"}),e.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"24px",borderRadius:"20px",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"35px",gap:"20px",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(C,{size:16,color:"#fbbf24"}),e.jsx("span",{style:{fontSize:"12px",fontWeight:"800"},children:"STATIONARY OFFICE RADIUS"})]}),e.jsx(a.button,{whileHover:{scale:1.05},type:"button",onClick:ie,disabled:A,style:{background:"#fbbf24",color:"#000",border:"none",padding:"8px 16px",borderRadius:"10px",fontSize:"11px",fontWeight:"900",cursor:"pointer"},children:A?"SYNCING...":"CAPTURE SIGNAL"})]}),e.jsx("p",{style:{fontSize:"12px",color:"rgba(255,255,255,0.5)",margin:"0 0 15px 0",lineHeight:"1.4"},children:i.officeLocation.address||"Location signal not yet established."}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{fontSize:"10px",fontWeight:"800",opacity:.5,marginBottom:"8px",display:"block"},children:"FENCE RADIUS (METERS)"}),e.jsx("input",{type:"number",className:"input-field",style:{height:"48px",width:"100%",background:"rgba(0,0,0,0.2)",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)",color:"white",padding:"0 15px"},value:i.officeLocation.radius,onChange:t=>l({...i,officeLocation:{...i.officeLocation,radius:Number(t.target.value)}})})]}),e.jsxs("div",{className:"form-group",style:{display:"flex",gap:"10px"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsx("label",{style:{fontSize:"10px",fontWeight:"800",opacity:.5,marginBottom:"8px",display:"block"},children:"SHIFT START"}),e.jsx("input",{type:"time",className:"input-field",style:{height:"48px",width:"100%",background:"rgba(0,0,0,0.2)",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)",color:"white",padding:"0 10px"},value:i.shiftTiming.start,onChange:t=>l({...i,shiftTiming:{...i.shiftTiming,start:t.target.value}})})]}),e.jsxs("div",{style:{flex:1},children:[e.jsx("label",{style:{fontSize:"10px",fontWeight:"800",opacity:.5,marginBottom:"8px",display:"block"},children:"SHIFT END"}),e.jsx("input",{type:"time",className:"input-field",style:{height:"48px",width:"100%",background:"rgba(0,0,0,0.2)",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)",color:"white",padding:"0 10px"},value:i.shiftTiming.end,onChange:t=>l({...i,shiftTiming:{...i.shiftTiming,end:t.target.value}})})]})]})]})]})]}),e.jsx(a.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",style:{width:"100%",height:"60px",background:"linear-gradient(135deg, #0ea5e9, #6366f1)",color:"white",border:"none",borderRadius:"20px",fontSize:"16px",fontWeight:"900",cursor:"pointer",boxShadow:"0 20px 30px -10px rgba(99, 102, 241, 0.4)",marginTop:"10px"},children:"INITIALIZE ONBOARDING"})]})]})}),p&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(2, 6, 23, 0.98)",backdropFilter:"blur(40px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1100,padding:"20px"},children:e.jsxs(a.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},style:{maxWidth:"900px",width:"100%",maxHeight:"90vh",background:"#0f172a",borderRadius:"32px",border:"1px solid rgba(255,255,255,0.08)",overflow:"hidden",position:"relative",display:"flex",flexDirection:"column",boxShadow:"0 50px 100px -20px rgba(0,0,0,0.7)"},children:[e.jsx("button",{onClick:()=>W(null),style:{position:"absolute",top:"20px",right:"20px",background:"rgba(255,255,255,0.08)",border:"none",color:"white",padding:"12px",borderRadius:"50%",cursor:"pointer",zIndex:100,transition:"0.2s",display:"flex",justifyContent:"center",alignItems:"center"},onMouseEnter:t=>t.target.style.background="rgba(244, 63, 94, 0.4)",onMouseLeave:t=>t.target.style.background="rgba(255,255,255,0.08)",children:e.jsx(P,{size:20})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"380px 1fr",height:"100%",overflow:"hidden"},children:[e.jsxs("div",{style:{background:"#1c2235",borderRight:"1px solid rgba(255,255,255,0.05)",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{background:"linear-gradient(135deg, #FFB82B, #fbbf24)",padding:"40px 30px",textAlign:"center"},children:[e.jsx("p",{style:{margin:0,fontSize:"10px",fontWeight:"900",color:"rgba(0,0,0,0.4)",textTransform:"uppercase"},children:"Net Payable"}),e.jsxs("h1",{style:{margin:"5px 0 0 0",fontSize:"42px",fontWeight:"900",color:"#000"},children:["₹",p.finalSalary.toLocaleString()]})]}),e.jsxs("div",{style:{padding:"30px",flex:1,overflowY:"auto"},children:[e.jsxs("div",{style:{marginBottom:"30px"},children:[e.jsx("h3",{style:{fontSize:"20px",fontWeight:"900",color:"white",margin:0},children:p.name}),e.jsxs("p",{style:{margin:"4px 0 0 0",fontSize:"12px",color:"rgba(255,255,255,0.3)",fontWeight:"700"},children:[p.designation||"Staff"," • ",c,"/",g]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"13px"},children:[e.jsx("span",{style:{color:"rgba(255,255,255,0.4)",fontWeight:"600"},children:"Base Salary"}),e.jsxs("span",{style:{fontWeight:"800",color:"white"},children:["₹",(p.salary||0).toLocaleString()]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"13px"},children:[e.jsx("span",{style:{color:"#10b981",fontWeight:"600"},children:"Days Present"}),e.jsxs("span",{style:{fontWeight:"800",color:"#10b981"},children:[p.presentDays,"d"]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"13px"},children:[e.jsx("span",{style:{color:"#f43f5e",fontWeight:"600"},children:"Days Absent"}),e.jsxs("span",{style:{fontWeight:"800",color:"#f43f5e"},children:[p.extraLeaves,"d"]})]}),e.jsx("div",{style:{height:"1px",background:"rgba(255,255,255,0.05)",margin:"15px 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"13px"},children:[e.jsx("span",{style:{color:"#f43f5e",fontWeight:"800"},children:"DEDUCTION"}),e.jsxs("span",{style:{fontWeight:"900",color:"#f43f5e"},children:["-₹",p.deduction.toLocaleString()]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"13px"},children:[e.jsx("span",{style:{color:"#6366f1",fontWeight:"800"},children:"INCENTIVE"}),e.jsxs("span",{style:{fontWeight:"900",color:"#6366f1"},children:["+₹",(p.sundayBonus||0).toLocaleString()]})]})]})]}),e.jsx("div",{style:{padding:"20px",borderTop:"1px solid rgba(255,255,255,0.05)"},children:e.jsx("button",{onClick:()=>W(null),style:{width:"100%",py:"15px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",color:"white",borderRadius:"14px",fontWeight:"800",cursor:"pointer",height:"45px"},children:"CLOSE REPORT"})})]}),e.jsxs("div",{style:{padding:"40px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"35px"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[e.jsx("h4",{style:{margin:0,fontSize:"14px",fontWeight:"900",color:"rgba(255,255,255,0.6)",textTransform:"uppercase",letterSpacing:"1px"},children:"Monthly Attendance Map"}),e.jsxs("div",{style:{display:"flex",gap:"15px",fontSize:"10px",fontWeight:"800",marginRight:"40px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",color:"#22c55e"},children:[e.jsx("div",{style:{width:"10px",height:"10px",background:"#22c55e",borderRadius:"50%",boxShadow:"0 0 10px rgba(34, 197, 94, 0.5)"}})," PRESENT"]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",color:"#ef4444"},children:[e.jsx("div",{style:{width:"10px",height:"10px",background:"#ef4444",borderRadius:"50%",boxShadow:"0 0 10px rgba(239, 68, 68, 0.5)"}})," ABSENT"]})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px"},children:[["SUN","MON","TUE","WED","THU","FRI","SAT"].map(t=>e.jsx("div",{style:{textAlign:"center",fontSize:"9px",fontWeight:"900",color:"rgba(255,255,255,0.2)",paddingBottom:"5px"},children:t},t)),Array.from({length:new Date(g,c-1,1).getDay()}).map((t,n)=>e.jsx("div",{style:{aspectRatio:"1",background:"rgba(255,255,255,0.01)",borderRadius:"10px"}},`offset-${n}`)),Array.from({length:new Date(g,c,0).getDate()},(t,n)=>{const o=n+1,s=`${g}-${c.toString().padStart(2,"0")}-${o.toString().padStart(2,"0")}`,j=(p.attendanceData||[]).find(le=>le.date===s),f=j?.status==="present",S=j?.status==="absent",oe=new Date(g,c-1,o).getDay()===0;return e.jsxs(a.div,{whileHover:{scale:1.05,background:"rgba(255,255,255,0.05)"},style:{aspectRatio:"1",background:f?"rgba(16, 185, 129, 0.12)":S?"rgba(244, 63, 94, 0.12)":"rgba(255,255,255,0.02)",border:`1px solid ${f?"rgba(16, 185, 129, 0.25)":S?"rgba(244, 63, 94, 0.25)":"rgba(255,255,255,0.05)"}`,borderRadius:"12px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"4px",position:"relative"},children:[e.jsx("span",{style:{fontSize:"11px",fontWeight:"900",color:f?"#10b981":S?"#f43f5e":oe?"#fbbf24":"rgba(255,255,255,0.5)"},children:o}),f?e.jsx("div",{style:{width:"8px",height:"8px",background:"#22c55e",borderRadius:"50%",boxShadow:"0 0 12px rgba(34, 197, 94, 0.6)"}}):S?e.jsx("div",{style:{width:"8px",height:"8px",background:"#ef4444",borderRadius:"50%",boxShadow:"0 0 12px rgba(239, 68, 68, 0.6)"}}):e.jsx("div",{style:{width:"4px",height:"4px",background:"rgba(255,255,255,0.1)",borderRadius:"50%"}})]},o)})]})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"0 0 20px 0",fontSize:"14px",fontWeight:"900",color:"rgba(255,255,255,0.6)",textTransform:"uppercase",letterSpacing:"1px"},children:"Daily Activity Logs"}),e.jsx("div",{style:{background:"rgba(255,255,255,0.02)",borderRadius:"20px",border:"1px solid rgba(255,255,255,0.05)",overflow:"hidden"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"rgba(255,255,255,0.03)",textAlign:"left"},children:[e.jsx("th",{style:{padding:"15px 20px",fontSize:"10px",color:"rgba(255,255,255,0.3)",fontWeight:"900"},children:"DATE"}),e.jsx("th",{style:{padding:"15px 20px",fontSize:"10px",color:"rgba(255,255,255,0.3)",fontWeight:"900"},children:"MATCH"}),e.jsx("th",{style:{padding:"15px 20px",fontSize:"10px",color:"rgba(255,255,255,0.3)",fontWeight:"900"},children:"PUNCH IN"}),e.jsx("th",{style:{padding:"15px 20px",fontSize:"10px",color:"rgba(255,255,255,0.3)",fontWeight:"900"},children:"PUNCH OUT"})]})}),e.jsx("tbody",{children:(p.attendanceData||[]).map(t=>e.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[e.jsx("td",{style:{padding:"15px 20px",fontSize:"13px",fontWeight:"800",color:"white"},children:new Date(t.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short"})}),e.jsx("td",{style:{padding:"15px 20px"},children:e.jsx("span",{style:{fontSize:"9px",fontWeight:"900",padding:"4px 8px",borderRadius:"6px",background:t.status==="present"?"rgba(34, 197, 94, 0.15)":"rgba(239, 68, 68, 0.1)",color:t.status==="present"?"#22c55e":"#ef4444"},children:t.status.toUpperCase()})}),e.jsx("td",{style:{padding:"15px 20px",fontSize:"12px",fontWeight:"700",color:"white"},children:t.punchIn?.time?new Date(t.punchIn.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--"}),e.jsx("td",{style:{padding:"15px 20px",fontSize:"12px",fontWeight:"700",color:"white"},children:t.punchOut?.time?new Date(t.punchOut.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--"})]},t._id))})]})})]})]})]})]})})]})]})};export{ke as default};
