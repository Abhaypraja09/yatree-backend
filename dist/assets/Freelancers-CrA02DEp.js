import{b as s,a7 as gt,j as e,U as ut,a8 as ht,Y as ye,Q as Ae,C as je,V as Q,I as mt,p as ft,q as bt,s as yt,K as We,m as Z,P as ze,J as jt,l as vt,X as Oe,E as St,_ as kt}from"./vendor-CAwo-Int.js";import{b as wt,i as b}from"./index-CrERKttY.js";import{u as ve,w as Tt}from"./excel-Csxh0MA_.js";import{S as Ct}from"./SEO-DjjsI1g5.js";const P=({title:d,onClose:h,children:y})=>e.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(5, 8, 15, 0.9)",zIndex:1e4,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px",backdropFilter:"blur(12px)"},children:e.jsxs("div",{className:"premium-glass",style:{width:"100%",maxWidth:"580px",padding:"35px",maxHeight:"90vh",overflowY:"auto",borderRadius:"32px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[e.jsx("h2",{style:{color:"white",fontSize:"24px",margin:0,fontWeight:"900",letterSpacing:"-0.5px"},children:d}),e.jsx("button",{onClick:h,style:{background:"rgba(255,255,255,0.05)",color:"white",height:"40px",width:"40px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s"},children:e.jsx(Oe,{size:22})})]}),y]})}),n=({label:d,value:h,onChange:y,type:M="text",required:ee=!1,autoComplete:te="off",placeholder:H="",inputMode:ie="text"})=>e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.5)",fontSize:"12px",fontWeight:"700",letterSpacing:"0.5px",marginBottom:"10px",display:"block"},children:d}),e.jsx("input",{type:M,className:"input-field",required:ee,value:h===0||h?h:"",onChange:E=>y(E.target.value),autoComplete:te,placeholder:H,inputMode:ie,style:{height:"52px",background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"14px",fontSize:"15px"}})]}),F=({disabled:d,text:h,message:y})=>e.jsxs("div",{style:{marginTop:"25px"},children:[y?.text&&e.jsxs("div",{style:{padding:"15px",borderRadius:"16px",fontSize:"14px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"12px",background:y.type==="success"?"rgba(16, 185, 129, 0.1)":"rgba(244, 63, 94, 0.1)",color:y.type==="success"?"#10b981":"#f43f5e",border:`1px solid ${y.type==="success"?"rgba(16, 185, 129, 0.1)":"rgba(244, 63, 94, 0.1)"}`},children:[y.type==="success"?e.jsx(St,{size:20}):e.jsx(kt,{size:20}),e.jsx("span",{style:{fontWeight:"600"},children:y.text})]}),e.jsx("button",{type:"submit",disabled:d,className:"btn-primary",style:{width:"100%",height:"58px",borderRadius:"16px",fontSize:"16px",fontWeight:"800",textTransform:"uppercase",letterSpacing:"1px",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:d?e.jsx("div",{className:"spinner",style:{width:"20px",height:"20px",borderTopColor:"white"}}):h})]}),Ot=()=>{const{selectedCompany:d}=wt(),[h,y]=s.useState([]),[M,ee]=s.useState([]),[te,H]=s.useState(!0),[ie,E]=s.useState(""),[Ne,ne]=s.useState(!1),[Be,re]=s.useState(!1),[Re,ae]=s.useState(!1),[Le,oe]=s.useState(!1),[A,se]=s.useState(null),[Se,ke]=s.useState(null),[k,Pe]=s.useState("All"),[$,Fe]=s.useState([]),[we,Me]=s.useState([]),[le,It]=s.useState("All"),[_e,de]=s.useState(!1),[Ee,pe]=s.useState(!1),[$e,Ue]=s.useState(!1),[B,ce]=s.useState({documentType:"Driving License",expiryDate:""}),[Te,Ce]=s.useState(null),Ke=gt(),[U,qe]=s.useState(Ke.state?.tab||"logistics"),[W,K]=s.useState({name:"",mobile:"",licenseNumber:"",dailyWage:""}),[z,q]=s.useState({name:"",mobile:"",licenseNumber:"",dailyWage:""}),[w,N]=s.useState({vehicleId:"",km:"",date:new Date(new Date().getTime()-new Date().getTimezoneOffset()*6e4).toISOString().slice(0,10),time:new Date(new Date().getTime()-new Date().getTimezoneOffset()*6e4).toISOString().slice(0,16),pickUpLocation:""}),[p,j]=s.useState({km:"",time:"",fuelAmount:"0",parkingAmount:"0",parkingPaidBy:"Self",review:"",dailyWage:"",dropLocation:""}),[v,R]=s.useState({amount:"",remark:"",date:"",advanceType:"Office",givenBy:"Office"}),[a,c]=s.useState({driverId:"",vehicleId:"",date:"",punchInKM:"",punchOutKM:"",punchInTime:"",punchOutTime:"",pickUpLocation:"",dropLocation:"",fuelAmount:"0",parkingAmount:"0",parkingPaidBy:"Self",allowanceTA:!1,nightStayAmount:!1,otherBonus:"0",dailyWage:"",review:""}),[Ye,xe]=s.useState(!1),[G,Ve]=s.useState(null),[o,x]=s.useState({date:"",driverId:"",vehicleId:"",startKm:"",endKm:"",punchInTime:"",punchOutTime:"",pickUpLocation:"",dropLocation:"",fuelAmount:"0",parkingAmount:"0",parkingPaidBy:"Self",allowanceTA:0,nightStayAmount:0,bonusAmount:"0",dailyWage:"",remarks:"",dutyType:""}),ge=(t=new Date)=>{const i=new Date(t),r=i.getFullYear(),l=String(i.getMonth()+1).padStart(2,"0"),S=String(i.getDate()).padStart(2,"0");return`${r}-${l}-${S}`},Je=(t=new Date)=>{const i=new Date(t),r=i.getFullYear(),l=String(i.getMonth()+1).padStart(2,"0"),S=String(i.getDate()).padStart(2,"0"),D=String(i.getHours()).padStart(2,"0"),fe=String(i.getMinutes()).padStart(2,"0");return`${r}-${l}-${S}T${D}:${fe}`};s.useEffect(()=>{const t=ge(),i=Je();N(r=>({...r,date:t,time:i})),j(r=>({...r,time:i})),R(r=>({...r,date:t})),c(r=>({...r,date:t,punchInTime:t+"T08:00",punchOutTime:t+"T20:00"}))},[]);const He=()=>{const t=new Date;return t.setDate(t.getDate()-180),ge(t)},Ge=()=>ge(),[T,Xe]=s.useState(!0),[L,Y]=s.useState(He()),[C,ue]=s.useState(Ge()),[I,g]=s.useState(!1),[V,m]=s.useState({type:"",text:""}),_=s.useCallback(async()=>{if(d?._id)try{const t=JSON.parse(localStorage.getItem("userInfo")),{data:i}=await b.get(`/api/admin/reports/${d._id}?from=${L}&to=${C}`,{headers:{Authorization:`Bearer ${t.token}`}}),r=(i.attendance||[]).filter(l=>l.isFreelancer||l.driver?.isFreelancer||l.driver?.name?.includes("(F)"));Fe(r)}catch(t){console.error("Logistic error:",t)}},[d,L,C]),he=s.useCallback(async()=>{if(d?._id)try{const t=JSON.parse(localStorage.getItem("userInfo")),{data:i}=await b.get(`/api/admin/advances/${d._id}?isFreelancer=true&from=${L}&to=${C}`,{headers:{Authorization:`Bearer ${t.token}`}});Me(i||[])}catch(t){console.error("Logistic error:",t)}},[d,L,C]),O=s.useCallback(async()=>{if(d?._id){H(!0);try{const t=JSON.parse(localStorage.getItem("userInfo")),{data:i}=await b.get(`/api/admin/drivers/${d._id}?isFreelancer=true&usePagination=false`,{headers:{Authorization:`Bearer ${t.token}`}});y(i.drivers||[])}catch(t){console.error("Logistic error:",t)}finally{H(!1)}}},[d]),X=s.useCallback(async()=>{if(d?._id)try{const t=JSON.parse(localStorage.getItem("userInfo")),{data:i}=await b.get(`/api/admin/vehicles/${d._id}?usePagination=false`,{headers:{Authorization:`Bearer ${t.token}`}});ee(i.vehicles||[])}catch(t){console.error("Logistic error:",t)}},[d]);s.useEffect(()=>{d&&(O(),X())},[d,O,X]),s.useEffect(()=>{d&&(_(),he())},[d,L,C,_,he]);const Qe=async t=>{t.preventDefault(),g(!0);try{const i=JSON.parse(localStorage.getItem("userInfo"));await b.post("/api/admin/drivers",{...W,companyId:d._id,isFreelancer:!0},{headers:{Authorization:`Bearer ${i.token}`}}),m({type:"success",text:"Freelancer added successfully!"}),setTimeout(()=>{ne(!1),K({name:"",mobile:"",licenseNumber:"",dailyWage:""}),m({type:"",text:""}),O()},1e3)}catch(i){m({type:"error",text:i.response?.data?.message||"Failed"})}finally{g(!1)}},Ze=async t=>{t.preventDefault(),g(!0);try{const i=JSON.parse(localStorage.getItem("userInfo"));await b.post("/api/admin/freelancers/punch-in",{...w,driverId:A._id},{headers:{Authorization:`Bearer ${i.token}`}}),ae(!1),E("");const r=new Date(new Date().getTime()-new Date().getTimezoneOffset()*6e4).toISOString();N({vehicleId:"",km:"",date:r.slice(0,10),time:r.slice(0,16),pickUpLocation:""}),O(),X(),_()}catch(i){alert(i.response?.data?.message||"Error")}finally{g(!1)}},et=async t=>{t.preventDefault(),g(!0);try{const i=JSON.parse(localStorage.getItem("userInfo"));await b.post("/api/admin/freelancers/punch-out",{...p,driverId:A._id},{headers:{Authorization:`Bearer ${i.token}`}}),oe(!1);const r=new Date().toISOString().slice(0,16);j({km:"",time:r,fuelAmount:"0",parkingAmount:"0",parkingPaidBy:"Self",review:"",dailyWage:"",dropLocation:""}),O(),X(),_()}catch(i){alert(i.response?.data?.message||"Error")}finally{g(!1)}},tt=async t=>{if(t.preventDefault(),!Te)return alert("Please select a file");g(!0);try{const i=JSON.parse(localStorage.getItem("userInfo")),r=new FormData;r.append("document",Te),r.append("documentType",B.documentType),B.expiryDate&&r.append("expiryDate",B.expiryDate),await b.post(`/api/admin/drivers/${A._id}/documents`,r,{headers:{Authorization:`Bearer ${i.token}`,"Content-Type":"multipart/form-data"}}),m({type:"success",text:"Document uploaded!"}),O(),ce({documentType:"Driving License",expiryDate:""}),Ce(null),setTimeout(()=>m({type:"",text:""}),2e3)}catch(i){m({type:"error",text:i.response?.data?.message||"Upload failed"})}finally{g(!1)}},it=async t=>{t.preventDefault(),g(!0);try{const i=JSON.parse(localStorage.getItem("userInfo"));await b.post("/api/admin/advances",{...v,driverId:A._id,companyId:d._id},{headers:{Authorization:`Bearer ${i.token}`}}),de(!1),R({amount:"",remark:"",date:new Date().toISOString().slice(0,10),advanceType:"Office",givenBy:"Office"}),he(),m({type:"success",text:"Advance payment recorded!"}),setTimeout(()=>m({type:"",text:""}),3e3)}catch(i){alert(i.response?.data?.message||"Failed to add advance")}finally{g(!1)}},nt=async t=>{t.preventDefault(),g(!0);try{const i=JSON.parse(localStorage.getItem("userInfo"));await b.post("/api/admin/manual-duty",{...a,companyId:d._id},{headers:{Authorization:`Bearer ${i.token}`}}),pe(!1),c({driverId:"",vehicleId:"",date:new Date().toISOString().split("T")[0],punchInKM:"",punchOutKM:"",punchInTime:"",punchOutTime:"",pickUpLocation:"",dropLocation:"",fuelAmount:"0",parkingAmount:"0",parkingPaidBy:"Self",allowanceTA:!1,nightStayAmount:!1,otherBonus:"0",dailyWage:"",review:""}),_(),O(),m({type:"success",text:"Duty recorded successfully!"}),setTimeout(()=>m({type:"",text:""}),3e3)}catch(i){alert(i.response?.data?.message||"Failed to record manual duty")}finally{g(!1)}},rt=async t=>{t.preventDefault(),g(!0);try{const i=JSON.parse(localStorage.getItem("userInfo"));G.isOutsideCar?await b.put(`/api/admin/vehicles/${G._id}`,{dutyAmount:o.dailyWage,dutyType:o.pickUpLocation,dropLocation:o.dropLocation,driverName:h.find(r=>r._id===o.driverId)?.name||G.driver?.name},{headers:{Authorization:`Bearer ${i.token}`}}):await b.put(`/api/admin/attendance/${G._id}`,o,{headers:{Authorization:`Bearer ${i.token}`}}),xe(!1),m({type:"success",text:"Duty updated successfully"}),_(),setTimeout(()=>m({type:"",text:""}),2e3)}catch(i){alert(i.response?.data?.message||"Update failed")}finally{g(!1)}},at=t=>{Ve(t);const i=t.isOutsideCar?t.dutyAmount||0:t.driver?.dailyWage||500;x({date:t.date,driverId:t.driver?._id||t.driver||"",vehicleId:t.vehicle?._id||t.vehicle||"",startKm:t.punchIn?.km??"",endKm:t.punchOut?.km??"",punchInTime:t.punchIn?.time?new Date(t.punchIn.time).toISOString().slice(0,16):"",punchOutTime:t.punchOut?.time?new Date(t.punchOut.time).toISOString().slice(0,16):"",pickUpLocation:t.pickUpLocation||"",dropLocation:t.dropLocation||"",fuelAmount:t.fuel?.amount??"0",parkingAmount:t.punchOut?.tollParkingAmount??"0",parkingPaidBy:t.punchOut?.parkingPaidBy||"Self",allowanceTA:t.punchOut?.allowanceTA??0,nightStayAmount:t.punchOut?.nightStayAmount??0,bonusAmount:t.outsideTrip?.bonusAmount??"0",dailyWage:t.dailyWage||i,remarks:t.punchOut?.remarks||t.punchOut?.otherRemarks||"",dutyType:t.pickUpLocation||""}),xe(!0)},ot=async t=>{t.preventDefault(),g(!0);try{const i=JSON.parse(localStorage.getItem("userInfo"));await b.put(`/api/admin/drivers/${Se._id}`,z,{headers:{Authorization:`Bearer ${i.token}`}}),m({type:"success",text:"Freelancer updated successfully!"}),setTimeout(()=>{re(!1),ke(null),m({type:"",text:""}),O()},1e3)}catch(i){m({type:"error",text:i.response?.data?.message||"Update failed"})}finally{g(!1)}},st=t=>{ke(t),q({name:t.name,mobile:t.mobile,licenseNumber:t.licenseNumber||"",dailyWage:t.dailyWage||""}),re(!0)},lt=async t=>{if(window.confirm("Delete this freelancer?"))try{const i=JSON.parse(localStorage.getItem("userInfo"));await b.delete(`/api/admin/drivers/${t}`,{headers:{Authorization:`Bearer ${i.token}`}}),O()}catch(i){console.error(i),alert("Error deleting")}},me=h.filter(t=>k==="All"||t._id===k),Ie=me.filter(t=>t.tripStatus==="active"),De=me.filter(t=>t.tripStatus!=="active"),J=$.filter(t=>{const i=k==="All"||t.driver?._id===k||t.driver===k,r=le==="All"||t.vehicle?._id===le||t.vehicle?.carNumber?.split("#")[0]===le;return i&&r});J.reduce((t,i)=>{const r=Number(i.dailyWage)||0,l=i.punchOut?.parkingPaidBy!=="Office"&&Number(i.punchOut?.tollParkingAmount)||0,S=(Number(i.punchOut?.allowanceTA)||0)+(Number(i.punchOut?.nightStayAmount)||0)+(Number(i.outsideTrip?.bonusAmount)||0);return t+r+l+S},0),we.filter(t=>k==="All"?!0:t.driver?._id===k||t.driver===k).reduce((t,i)=>t+i.amount,0),k==="All"||h.find(t=>t._id===k)?.name,[...new Set($.map(t=>t.pickUpLocation).filter(Boolean))].sort(),[...new Set($.map(t=>t.dropLocation).filter(Boolean))].sort();const dt=()=>{if(J.length===0)return alert("No data to download");const t=J.map(l=>({Date:l.date,"Driver Name":l.driver?.name||"N/A",Car:l.vehicle?.carNumber?l.vehicle.carNumber.slice(-4):"N/A","In Time":l.punchIn?.time?new Date(l.punchIn.time).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0}):"-","Out Time":l.punchOut?.time?new Date(l.punchOut.time).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0}):"-","Total KM":l.punchOut?.km-l.punchIn?.km||0,"Pick-up":l.pickUpLocation||"-",Drop:l.dropLocation||"-",Salary:l.dailyWage||0,Fuel:l.fuel?.amount||0,"Parking/Toll":l.punchOut?.tollParkingAmount||0,Remarks:l.punchOut?.remarks||""})),i=ve.json_to_sheet(t),r=ve.book_new();ve.book_append_sheet(r,i,"Freelancer Duties"),Tt(r,`Freelancer_Report_${new Date().toLocaleDateString()}.xlsx`)};return e.jsxs("div",{className:"container-fluid",style:{paddingBottom:"40px"},children:[e.jsx(Ct,{title:"Freelancer Fleet Network",description:"Onboard and manage freelance drivers for temporary duties and peak demand management."}),e.jsx("header",{className:"glass-card dashboard-header",style:{padding:"clamp(20px, 3vw, 30px)",borderRadius:"24px",border:"1px solid rgba(255,255,255,0.08)",marginBottom:"25px",background:"rgba(30, 41, 59, 0.4)"},children:e.jsxs("div",{className:"mobile-stack",style:{display:"flex",justifyContent:"space-between",width:"100%",gap:"20px",alignItems:"center"},children:[e.jsx("div",{className:"header-logo-section",children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[e.jsx("div",{className:"header-logo-container",style:{background:"linear-gradient(135deg, white, #f8fafc)",borderRadius:"16px",padding:"8px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 10px 25px rgba(0,0,0,0.2)",flexShrink:0},children:e.jsx(ut,{size:28,color:"#fbbf24"})}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[e.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"#fbbf24",boxShadow:"0 0 8px #fbbf24"}}),e.jsx("span",{style:{fontSize:"clamp(9px,2.5vw,10px)",fontWeight:"800",color:"rgba(255,255,255,0.5)",letterSpacing:"1px",textTransform:"uppercase"},children:"External Workforce"})]}),e.jsxs("h1",{className:"header-title",style:{color:"white",fontWeight:"900",margin:0,letterSpacing:"-1.5px",fontSize:"clamp(20px, 5vw, 32px)"},children:["Freelancers ",e.jsx("span",{className:"text-gradient-yellow",children:"Hub"})]})]})]})}),e.jsxs("div",{className:"header-actions",style:{display:"flex",gap:"15px",alignItems:"center",flexWrap:"wrap",justifyContent:"flex-end",flex:1},children:[e.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",background:"rgba(255,255,255,0.03)",padding:"4px 12px",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsx(ht,{size:14,color:"#fbbf24",strokeWidth:2.5}),e.jsxs("select",{value:k,onChange:t=>Pe(t.target.value),style:{background:"transparent",border:"none",color:"white",height:"38px",fontSize:"13px",fontWeight:"800",outline:"none",minWidth:"130px",cursor:"pointer"},children:[e.jsx("option",{value:"All",style:{background:"#1e293b"},children:"ALL FREELANCERS"}),h.map(t=>e.jsx("option",{value:t._id,style:{background:"#1e293b"},children:t.name.split(" (F)")[0].toUpperCase()},t._id))]})]}),e.jsxs("div",{style:{display:"flex",gap:"8px",flexShrink:0},children:[e.jsx("button",{className:"glass-card-hover-effect",onClick:()=>pe(!0),style:{display:"flex",alignItems:"center",justifyContent:"center",width:"44px",height:"44px",borderRadius:"12px",background:"rgba(255,255,255,0.05)",color:"white",border:"1px solid rgba(255,255,255,0.1)",cursor:"pointer",transition:"all 0.3s"},title:"Manual Entry",children:e.jsx(ye,{size:16})}),e.jsx("button",{onClick:()=>ne(!0),style:{display:"flex",alignItems:"center",justifyContent:"center",width:"44px",height:"44px",borderRadius:"12px",background:"linear-gradient(135deg, #fbbf24 0%, #d97706 100%)",border:"none",color:"black",boxShadow:"0 8px 15px rgba(251, 191, 36, 0.2)",cursor:"pointer",transition:"all 0.3s"},title:"Add Freelancer",children:e.jsx(Ae,{size:18})})]})]})]})}),e.jsx("div",{className:"glass-card",style:{padding:"20px",borderRadius:"24px",border:"1px solid rgba(255,255,255,0.05)",marginBottom:"30px",background:"rgba(15, 23, 42, 0.4)"},children:e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"20px",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("div",{className:"premium-scroll",style:{display:"flex",background:"rgba(0,0,0,0.2)",padding:"4px",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.03)",overflowX:"auto",whiteSpace:"nowrap",gap:"4px",maxWidth:"100%"},children:[{id:"logistics",label:"Duties",icon:e.jsx(je,{size:14})},{id:"personnel",label:"Drivers",icon:e.jsx(Q,{size:14})},{id:"accounts",label:"Settlement",icon:e.jsx(mt,{size:14})}].map(t=>e.jsxs("button",{onClick:()=>qe(t.id),style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 16px",borderRadius:"12px",border:"none",background:U===t.id?"rgba(99, 102, 241, 0.15)":"transparent",color:U===t.id?"#818cf8":"rgba(255,255,255,0.4)",cursor:"pointer",fontSize:"12px",fontWeight:"800",transition:"all 0.3s",flexShrink:0},children:[t.icon," ",e.jsx("span",{style:{letterSpacing:"0.5px"},children:t.label})]},t.id))}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",flexWrap:"wrap",flex:1,width:"100%",justifyContent:"flex-end"},children:[e.jsxs("div",{style:{background:"rgba(0,0,0,0.25)",padding:"4px",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.05)",display:"flex",alignItems:"center",gap:"5px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:[e.jsx("button",{onClick:()=>{const t=new Date(C);t.setDate(t.getDate()-1);const i=t.toISOString().split("T")[0];ue(i),T||Y(i)},style:{width:"36px",height:"36px",borderRadius:"12px",background:"rgba(255,255,255,0.03)",color:"rgba(255,255,255,0.6)",border:"1px solid rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(ft,{size:18})}),T&&e.jsxs("div",{onClick:()=>document.getElementById("from-date-picker").showPicker(),style:{padding:"0 12px",height:"36px",display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",background:"rgba(99, 102, 241, 0.1)",borderRadius:"10px",border:"1px solid rgba(99, 102, 241, 0.15)"},children:[e.jsx("span",{style:{color:"#818cf8",fontSize:"11px",fontWeight:"900"},children:"FROM:"}),e.jsx("span",{style:{color:"white",fontSize:"12px",fontWeight:"900"},children:new Date(L).toLocaleDateString("en-GB",{day:"2-digit",month:"short"}).toUpperCase()}),e.jsx("input",{id:"from-date-picker",type:"date",value:L,onChange:t=>Y(t.target.value),style:{visibility:"hidden",width:0,position:"absolute"}})]}),e.jsxs("div",{onClick:()=>document.getElementById("main-date-picker").showPicker(),style:{padding:"0 15px",height:"36px",display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",background:"rgba(251, 191, 36, 0.1)",borderRadius:"10px",border:"1px solid rgba(251, 191, 36, 0.15)"},children:[T&&e.jsx("span",{style:{color:"#fbbf24",fontSize:"11px",fontWeight:"900"},children:"TO:"}),!T&&e.jsx(bt,{size:14,color:"#fbbf24"}),e.jsx("span",{style:{color:"white",fontSize:"13px",fontWeight:"900"},children:new Date(C).toLocaleDateString("en-GB",{day:"2-digit",month:"short"}).toUpperCase()}),e.jsx("input",{id:"main-date-picker",type:"date",value:C,onChange:t=>{ue(t.target.value),T||Y(t.target.value)},style:{visibility:"hidden",width:0,position:"absolute"}})]}),e.jsx("button",{onClick:()=>{const t=new Date(C);t.setDate(t.getDate()+1);const i=t.toISOString().split("T")[0];ue(i),T||Y(i)},style:{width:"36px",height:"36px",borderRadius:"12px",background:"rgba(255,255,255,0.03)",color:"rgba(255,255,255,0.6)",border:"1px solid rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(yt,{size:18})}),e.jsx("button",{onClick:()=>{const t=!T;Xe(t),t||Y(C)},style:{marginLeft:"5px",padding:"0 10px",height:"36px",borderRadius:"10px",border:"none",cursor:"pointer",background:T?"#6366f1":"rgba(255,255,255,0.05)",color:T?"white":"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase"},children:T?"Range ON":"Single"})]}),e.jsxs("button",{onClick:dt,style:{background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.2)",color:"#10b981",padding:"0 15px",height:"44px",borderRadius:"13px",display:"flex",alignItems:"center",gap:"8px",fontSize:"11px",fontWeight:"900",cursor:"pointer",fontWeight:"800"},title:"Export Reports",children:[e.jsx(We,{size:16})," ",e.jsx("span",{className:"hide-mobile",children:"Excel"})]})]})]})}),e.jsxs("div",{style:{position:"relative",minHeight:"600px"},children:[U==="personnel"&&e.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:{animation:"fadeIn 0.5s ease"},children:e.jsx("div",{style:{borderRadius:"24px",overflow:"hidden",background:"rgba(15, 23, 42, 0.4)",border:"1px solid rgba(255,255,255,0.05)"},children:e.jsx("div",{className:"scroll-x",children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"1000px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"rgba(255,255,255,0.03)",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[e.jsx("th",{style:{padding:"18px 25px",textAlign:"left",color:"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Freelancer"}),e.jsx("th",{style:{padding:"18px 25px",textAlign:"left",color:"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Current Status"}),e.jsx("th",{style:{padding:"18px 25px",textAlign:"left",color:"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Daily Wage"}),e.jsx("th",{style:{padding:"18px 25px",textAlign:"center",color:"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Duties"}),e.jsx("th",{style:{padding:"18px 25px",textAlign:"right",color:"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Actions"})]})}),e.jsx("tbody",{children:te?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",style:{padding:"60px",textAlign:"center",color:"rgba(255,255,255,0.3)"},children:"Loading drivers..."})}):De.length===0&&Ie.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:"5",style:{padding:"80px 40px",textAlign:"center"},children:[e.jsx(Q,{size:40,style:{color:"rgba(255,255,255,0.1)",marginBottom:"20px"}}),e.jsx("h3",{style:{color:"white",fontWeight:"800"},children:"No Freelancers Found"}),e.jsx("p",{style:{color:"rgba(255,255,255,0.3)",marginBottom:"30px"},children:"Add drivers to your network to see them here."})]})}):[...Ie.sort((t,i)=>t.name.localeCompare(i.name)),...De.sort((t,i)=>t.name.localeCompare(i.name))].map(t=>{const i=t.tripStatus==="active",r=$.filter(l=>l.driver?._id===t._id||l.driver===t._id).length;return e.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.03)",transition:"background 0.3s"},className:"ledger-row",children:[e.jsx("td",{style:{padding:"15px 25px"},children:e.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:i?"rgba(244, 63, 94, 0.1)":"rgba(99, 102, 241, 0.1)",display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(Q,{size:18,style:{color:i?"#f43f5e":"#818cf8"}})}),e.jsxs("div",{children:[e.jsx("div",{style:{color:"white",fontWeight:"800",fontSize:"14px"},children:t.name.split(" (F)")[0]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"3px"},children:[e.jsxs("a",{href:`tel:${t.mobile}`,style:{color:"rgba(255,255,255,0.4)",fontSize:"12px",textDecoration:"none",display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(ze,{size:10})," ",t.mobile]}),t.licenseNumber&&e.jsxs("span",{style:{color:"rgba(255,255,255,0.2)",fontSize:"10px"},children:["• ",t.licenseNumber]})]})]})]})}),e.jsxs("td",{style:{padding:"15px 25px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:i?"#f43f5e":"#10b981"}}),e.jsx("span",{style:{fontSize:"11px",color:i?"#f43f5e":"#10b981",fontWeight:"900",textTransform:"uppercase"},children:i?"ON DUTY":"AVAILABLE"})]}),i&&t.assignedVehicle&&e.jsxs("div",{style:{color:"rgba(14,165,233,0.7)",fontSize:"10px",fontWeight:"800",marginTop:"4px",display:"flex",alignItems:"center",gap:"5px"},children:[e.jsx(je,{size:10})," ",t.assignedVehicle?.carNumber?.split("#")[0]]})]}),e.jsxs("td",{style:{padding:"15px 25px"},children:[e.jsxs("div",{style:{color:"white",fontWeight:"900",fontSize:"15px"},children:["₹",t.dailyWage||0]}),e.jsx("div",{style:{color:"rgba(255,255,255,0.2)",fontSize:"9px",fontWeight:"900",marginTop:"2px"},children:"BASE RATE"})]}),e.jsx("td",{style:{padding:"15px 25px",textAlign:"center"},children:e.jsx("div",{style:{display:"inline-block",background:"rgba(99, 102, 241, 0.1)",padding:"4px 12px",borderRadius:"100px",border:"1px solid rgba(99,102,241,0.1)"},children:e.jsx("span",{style:{color:"#818cf8",fontWeight:"900",fontSize:"13px"},children:r})})}),e.jsx("td",{style:{padding:"15px 25px",textAlign:"right"},children:e.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[i?e.jsx("button",{onClick:()=>{se(t),j({...p,km:"",time:new Date().toISOString().slice(0,16),dailyWage:t.dailyWage||""}),oe(!0)},style:{background:"rgba(244, 63, 94, 0.1)",color:"#f43f5e",border:"1px solid rgba(244, 63, 94, 0.2)",padding:"8px 15px",borderRadius:"10px",fontSize:"11px",fontWeight:"900",cursor:"pointer"},children:"FINISH"}):e.jsx("button",{onClick:()=>{se(t),N({...w,time:new Date().toISOString().slice(0,16),date:new Date().toISOString().split("T")[0]}),ae(!0)},style:{background:"rgba(99, 102, 241, 0.1)",color:"#818cf8",border:"1px solid rgba(99, 102, 241, 0.2)",padding:"8px 15px",borderRadius:"10px",fontSize:"11px",fontWeight:"900",cursor:"pointer"},children:"START"}),e.jsx("button",{onClick:()=>st(t),title:"Edit",style:{width:"34px",height:"34px",borderRadius:"10px",background:"rgba(255,255,255,0.03)",color:"rgba(255,255,255,0.6)",border:"1px solid rgba(255,255,255,0.08)",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},children:e.jsx(ye,{size:13})}),e.jsx("button",{onClick:()=>lt(t._id),title:"Delete",style:{width:"34px",height:"34px",borderRadius:"10px",background:"rgba(244,63,94,0.05)",color:"#f43f5e",border:"1px solid rgba(244,63,94,0.1)",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},children:e.jsx(jt,{size:13})})]})})]},t._id)})})]})})})}),U==="accounts"&&e.jsx(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},style:{animation:"fadeIn 0.5s ease"},children:e.jsxs("div",{style:{marginBottom:"32px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[e.jsx("div",{style:{width:"3px",height:"16px",background:"#6366f1",borderRadius:"4px"}}),e.jsx("h4",{style:{margin:0,color:"white",fontSize:"15px",fontWeight:"800"},children:"Driver Wise Settlement"})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:me.map(t=>{const i=$.filter(u=>u.driver?._id===t._id||u.driver===t._id),r=i.reduce((u,f)=>{const pt=Number(f.dailyWage)||0,ct=f.punchOut?.parkingPaidBy!=="Office"&&Number(f.punchOut?.tollParkingAmount)||0,xt=(Number(f.punchOut?.allowanceTA)||0)+(Number(f.punchOut?.nightStayAmount)||0)+(Number(f.outsideTrip?.bonusAmount)||0);return u+pt+ct+xt},0),l=i.reduce((u,f)=>u+(f.totalKM||f.punchOut?.km-f.punchIn?.km||0),0),S=we.filter(u=>u.driver?._id===t._id||u.driver===t._id),D=S.reduce((u,f)=>u+f.amount,0),fe=S.sort((u,f)=>new Date(f.date)-new Date(u.date)).slice(0,3).map(u=>`${new Date(u.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short"})} (₹${u.amount})`).join(" • ")+(S.length>3?"...":""),be=r-D;return r===0&&D===0?null:e.jsxs("div",{className:"glass-card premium-row",style:{background:"rgba(15, 23, 42, 0.6)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"20px",padding:"20px",position:"relative",overflow:"hidden",display:"flex",flexDirection:"column",gap:"20px"},children:[e.jsxs("div",{className:"settlement-row-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"20px"},children:[e.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center",minWidth:"220px"},children:[e.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"14px",background:"linear-gradient(135deg, #4f46e5, #9333ea)",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 8px 20px rgba(147, 51, 234, 0.25)",flexShrink:0},children:e.jsx(Q,{size:20,color:"white"})}),e.jsxs("div",{children:[e.jsx("h3",{style:{margin:0,color:"white",fontSize:"17px",fontWeight:"900",letterSpacing:"-0.3px"},children:t.name.split(" (F)")[0]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginTop:"4px"},children:[e.jsx(ze,{size:10,color:"rgba(255,255,255,0.4)"}),e.jsx("span",{style:{color:"rgba(255,255,255,0.4)",fontSize:"12px",fontWeight:"800"},children:t.mobile})]})]})]}),e.jsxs("div",{className:"settlement-stats-grid",style:{display:"flex",gap:"clamp(20px, 4vw, 50px)",alignItems:"center",flexWrap:"wrap",flex:1,justifyContent:"center"},children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{color:"rgba(255,255,255,0.3)",fontSize:"10px",fontWeight:"800",textTransform:"uppercase",marginBottom:"6px"},children:"Total Duties"}),e.jsx("div",{style:{color:"white",fontSize:"18px",fontWeight:"950"},children:i.length}),e.jsxs("div",{style:{color:"rgba(99, 102, 241, 0.6)",fontSize:"10px",fontWeight:"700",marginTop:"2px"},children:[l.toLocaleString()," KM"]})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{color:"rgba(255,255,255,0.3)",fontSize:"10px",fontWeight:"800",textTransform:"uppercase",marginBottom:"6px"},children:"Gross Earning"}),e.jsxs("div",{style:{color:"#10b981",fontSize:"18px",fontWeight:"950"},children:["₹",r.toLocaleString()]})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{color:"rgba(255,255,255,0.3)",fontSize:"10px",fontWeight:"800",textTransform:"uppercase",marginBottom:"6px"},children:"Paid Advance"}),e.jsxs("div",{style:{color:"#f43f5e",fontSize:"18px",fontWeight:"950"},children:["₹",D.toLocaleString()]})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"25px",minWidth:"200px",justifyContent:"flex-end"},children:[e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("div",{style:{color:"rgba(255,255,255,0.3)",fontSize:"10px",fontWeight:"800",textTransform:"uppercase",marginBottom:"4px"},children:"Net Outstanding"}),e.jsxs("div",{style:{color:be>=0?"#10b981":"#f43f5e",fontSize:"28px",fontWeight:"950",letterSpacing:"-0.8px",textShadow:be>=0?"0 0 20px rgba(16, 185, 129, 0.2)":"0 0 20px rgba(244, 63, 94, 0.2)"},children:["₹",be.toLocaleString()]})]}),e.jsx("button",{onClick:()=>{se(t),de(!0)},style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",width:"44px",height:"44px",borderRadius:"14px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s",boxShadow:"0 8px 15px rgba(16, 185, 129, 0.2)",flexShrink:0},title:"Add Advance Payment",children:e.jsx(Ae,{size:20})})]})]}),S.length>0&&e.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",borderRadius:"12px",padding:"10px 15px",display:"flex",alignItems:"center",gap:"12px",border:"1px solid rgba(255,255,255,0.02)"},children:[e.jsx("div",{style:{color:"rgba(255,255,255,0.2)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Timeline"}),e.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",fontWeight:"700"},children:fe})]})]},t._id)}).filter(Boolean)})]})}),U==="logistics"&&e.jsx(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},style:{animation:"fadeIn 0.5s ease"},children:J.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",background:"rgba(255,255,255,0.02)",border:"1px dashed rgba(255,255,255,0.08)",borderRadius:"20px"},children:[e.jsx(je,{size:40,style:{color:"rgba(255,255,255,0.15)",marginBottom:"16px"}}),e.jsx("p",{style:{color:"rgba(255,255,255,0.35)",fontSize:"14px",fontWeight:"700"},children:"No duty records found for selected period"}),e.jsx("p",{style:{color:"rgba(255,255,255,0.2)",fontSize:"12px",marginTop:"6px"},children:"Try changing the date range, driver filter, or search term"})]}):e.jsx("div",{style:{borderRadius:"24px",overflow:"hidden",background:"rgba(15, 23, 42, 0.4)",border:"1px solid rgba(255,255,255,0.05)"},children:e.jsx("div",{className:"scroll-x",children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"1100px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"rgba(255,255,255,0.03)",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[e.jsx("th",{style:{padding:"18px 25px",textAlign:"left",color:"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Date"}),e.jsx("th",{style:{padding:"18px 25px",textAlign:"left",color:"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Driver"}),e.jsx("th",{style:{padding:"18px 25px",textAlign:"left",color:"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Vehicle"}),e.jsx("th",{style:{padding:"18px 25px",textAlign:"left",color:"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Route Details"}),e.jsx("th",{style:{padding:"18px 25px",textAlign:"left",color:"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Timing & KM"}),e.jsx("th",{style:{padding:"18px 25px",textAlign:"right",color:"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Financials (+ Parking)"}),e.jsx("th",{style:{padding:"18px 25px",textAlign:"center",color:"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"1px"},children:"Actions"})]})}),e.jsx("tbody",{children:J.map(t=>{const i=t.date||(t.punchIn?.time?new Date(t.punchIn.time).toISOString().split("T")[0]:null),r=t.punchIn?.time?new Date(t.punchIn.time).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0}):"--:--",l=t.punchOut?.time?new Date(t.punchOut.time).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0}):null,S=t.totalKM||(t.punchOut?.km&&t.punchIn?.km?t.punchOut.km-t.punchIn.km:0),D=t.status==="completed"||!!t.punchOut?.time;return e.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.03)",transition:"background 0.3s"},className:"ledger-row",children:[e.jsxs("td",{style:{padding:"15px 25px"},children:[e.jsx("div",{style:{color:"white",fontWeight:"800",fontSize:"13px"},children:i?new Date(i).toLocaleDateString("en-IN",{day:"2-digit",month:"short"}):"---"}),e.jsx("div",{style:{color:"rgba(255,255,255,0.3)",fontSize:"10px",fontWeight:"700",marginTop:"2px"},children:i?new Date(i).getFullYear():""})]}),e.jsxs("td",{style:{padding:"15px 25px"},children:[e.jsx("div",{style:{color:"white",fontWeight:"800",fontSize:"14px"},children:t.driver?.name||"---"}),e.jsx("span",{style:{fontSize:"8px",padding:"2px 8px",borderRadius:"100px",fontWeight:"900",marginTop:"4px",display:"inline-block",background:D?"rgba(16,185,129,0.1)":"rgba(245,158,11,0.1)",color:D?"#10b981":"#f59e0b",border:`1px solid ${D?"rgba(16,185,129,0.1)":"rgba(245,158,11,0.1)"}`},children:D?"COMPLETED":"ON DUTY"})]}),e.jsxs("td",{style:{padding:"15px 25px"},children:[e.jsx("div",{style:{background:"rgba(14,165,233,0.1)",padding:"5px 12px",borderRadius:"8px",display:"inline-block"},children:e.jsx("span",{style:{color:"#0ea5e9",fontSize:"12px",fontWeight:"900"},children:t.vehicle?.carNumber?.split("#")[0]||"N/A"})}),e.jsx("div",{style:{color:"rgba(255,255,255,0.3)",fontSize:"10px",fontWeight:"700",marginTop:"4px"},children:t.vehicle?.model?.split(" ").slice(0,2).join(" ")||""})]}),e.jsx("td",{style:{padding:"15px 25px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"3px"},children:[e.jsx("div",{style:{width:"5px",height:"5px",borderRadius:"50%",background:"#10b981"}}),e.jsx("div",{style:{width:"1px",height:"10px",background:"rgba(255,255,255,0.1)"}}),e.jsx("div",{style:{width:"5px",height:"5px",borderRadius:"50%",background:"#f43f5e"}})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:"rgba(255,255,255,0.8)",fontSize:"12px",fontWeight:"600"},children:t.pickUpLocation||"Start"}),e.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"12px",fontWeight:"600",marginTop:"4px"},children:t.dropLocation||"Pending"})]})]})}),e.jsxs("td",{style:{padding:"15px 25px"},children:[e.jsxs("div",{style:{color:"white",fontSize:"12px",fontWeight:"700"},children:[r," - ",l||"Active"]}),e.jsxs("div",{style:{color:"#818cf8",fontSize:"11px",fontWeight:"900",marginTop:"4px"},children:[S," KM Run"]})]}),e.jsxs("td",{style:{padding:"15px 25px",textAlign:"right"},children:[e.jsxs("div",{style:{color:"#10b981",fontSize:"16px",fontWeight:"900"},children:["₹",t.dailyWage||t.driver?.dailyWage||0]}),e.jsxs("div",{style:{display:"flex",gap:"6px",justifyContent:"flex-end",marginTop:"4px"},children:[t.fuel?.amount>0&&e.jsxs("span",{style:{color:"#f59e0b",fontSize:"9px",fontWeight:"900"},children:["F: ₹",t.fuel.amount]}),t.punchOut?.tollParkingAmount>0&&e.jsxs("span",{style:{color:t.punchOut?.parkingPaidBy==="Office"?"rgba(255,255,255,0.4)":"#8b5cf6",fontSize:"9px",fontWeight:"900",textDecoration:t.punchOut?.parkingPaidBy==="Office"?"line-through":"none"},children:["P: ₹",t.punchOut.tollParkingAmount,t.punchOut?.parkingPaidBy==="Office"?" (O)":" (S)"]})]})]}),e.jsx("td",{style:{padding:"15px 25px",textAlign:"center"},children:e.jsx("button",{onClick:()=>at(t),style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",color:"white",borderRadius:"8px",padding:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(ye,{size:14})})})]},t._id)})})]})})})})]}),e.jsxs("div",{children:[Ne&&e.jsx(P,{title:"Add New Freelancer",onClose:()=>ne(!1),children:e.jsxs("form",{onSubmit:Qe,style:{display:"grid",gap:"20px"},children:[e.jsx(n,{label:"Full Name *",value:W.name,onChange:t=>K({...W,name:t}),required:!0}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[e.jsx(n,{label:"Mobile Number *",value:W.mobile,onChange:t=>K({...W,mobile:t}),required:!0}),e.jsx(n,{label:"License Number",value:W.licenseNumber,onChange:t=>K({...W,licenseNumber:t})})]}),e.jsx(n,{label:"Daily Wage (₹)",type:"number",value:W.dailyWage,onChange:t=>K({...W,dailyWage:t})}),e.jsx(F,{disabled:I,text:"Register Freelancer",message:V})]})}),Be&&e.jsx(P,{title:`Edit Freelancer: ${Se?.name}`,onClose:()=>re(!1),children:e.jsxs("form",{onSubmit:ot,style:{display:"grid",gap:"20px"},children:[e.jsx(n,{label:"Full Name *",value:z.name,onChange:t=>q({...z,name:t}),required:!0}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[e.jsx(n,{label:"Mobile Number *",value:z.mobile,onChange:t=>q({...z,mobile:t}),required:!0}),e.jsx(n,{label:"License Number",value:z.licenseNumber,onChange:t=>q({...z,licenseNumber:t})})]}),e.jsx(n,{label:"Daily Wage (₹)",type:"number",value:z.dailyWage,onChange:t=>q({...z,dailyWage:t})}),e.jsx(F,{disabled:I,text:"Update Freelancer",message:V})]})}),Re&&e.jsx(P,{title:`Assign Duty: ${A?.name}`,onClose:()=>{ae(!1),E("")},children:e.jsxs("form",{onSubmit:Ze,style:{display:"grid",gap:"25px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Select Vehicle *"}),e.jsx("input",{type:"text",list:"vehicle-list",className:"input-field",placeholder:"Type car number...",required:!0,value:ie,onChange:t=>{E(t.target.value);const i=M.find(r=>r.carNumber?.split("#")[0]?.toUpperCase()===t.target.value.toUpperCase());i&&N({...w,vehicleId:i._id})}}),e.jsx("datalist",{id:"vehicle-list",children:M.filter(t=>!t.currentDriver).map(t=>e.jsx("option",{value:t.carNumber?.split("#")[0],children:t.model},t._id))})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[e.jsx(n,{label:"Duty Date *",type:"date",value:w.date,onChange:t=>N({...w,date:t}),required:!0}),e.jsx(n,{label:"Punch-In Time *",type:"datetime-local",value:w.time,onChange:t=>N({...w,time:t}),required:!0})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[e.jsx(n,{label:"Starting KM *",type:"number",value:w.km,onChange:t=>N({...w,km:t}),required:!0}),e.jsx(n,{label:"Pick-up Location",value:w.pickUpLocation,onChange:t=>N({...w,pickUpLocation:t})})]}),e.jsx(F,{disabled:I,text:"Start Duty"})]})}),e.jsx(vt,{children:Ee&&e.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",backdropFilter:"blur(16px)",zIndex:1100,display:"flex",justifyContent:"center",alignItems:"flex-start",padding:"15px",overflowY:"auto"},children:e.jsxs(Z.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"premium-glass",style:{width:"100%",maxWidth:"600px",padding:"0",border:"1px solid rgba(255,255,255,0.1)",background:"#0f172a",overflow:"visible",margin:"auto",borderRadius:"24px"},children:[e.jsxs("div",{style:{padding:"24px 30px",background:"linear-gradient(to right, #1e293b, #0f172a)",borderBottom:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,zIndex:10,borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},children:[e.jsxs("div",{children:[e.jsx("h2",{style:{color:"white",fontSize:"20px",margin:0,fontWeight:"800"},children:"Manual Duty Entry"}),e.jsx("p",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"700",textTransform:"uppercase",margin:"4px 0 0"},children:"Record Past Trip"})]}),e.jsx("button",{onClick:()=>pe(!1),style:{background:"rgba(255,255,255,0.05)",color:"white",borderRadius:"50%",padding:"10px",border:"none",cursor:"pointer"},children:e.jsx(Oe,{size:18})})]}),e.jsxs("form",{onSubmit:nt,style:{padding:"25px",display:"flex",flexDirection:"column",gap:"24px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Freelancer *"}),e.jsxs("select",{className:"input-field",required:!0,value:a.driverId,onChange:t=>{const i=h.find(r=>r._id===t.target.value);c({...a,driverId:t.target.value,dailyWage:i?.dailyWage||""})},style:{width:"100%",height:"52px",background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"14px",color:"white",padding:"0 15px"},children:[e.jsx("option",{value:"",style:{background:"#0f172a",color:"white"},children:"Select Driver"}),h.map(t=>e.jsx("option",{value:t._id,style:{background:"#0f172a",color:"white"},children:t.name.split(" (F)")[0]},t._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Vehicle *"}),e.jsxs("select",{className:"input-field",required:!0,value:a.vehicleId,onChange:t=>c({...a,vehicleId:t.target.value}),style:{width:"100%",height:"52px",background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"14px",color:"white",padding:"0 15px"},children:[e.jsx("option",{value:"",style:{background:"#0f172a",color:"white"},children:"Select Car"}),M.map(t=>e.jsxs("option",{value:t._id,style:{background:"#0f172a",color:"white"},children:[t.carNumber?.split("#")[0]," - ",t.model]},t._id))]})]})]}),e.jsx(n,{label:"Duty Date *",type:"date",value:a.date,onChange:t=>c({...a,date:t}),required:!0}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"15px"},children:[e.jsx(n,{label:"Punch-In Time *",type:"datetime-local",value:a.punchInTime,onChange:t=>c({...a,punchInTime:t}),required:!0}),e.jsx(n,{label:"Punch-Out Time *",type:"datetime-local",value:a.punchOutTime,onChange:t=>c({...a,punchOutTime:t}),required:!0})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"15px"},children:[e.jsx(n,{label:"Starting KM *",type:"number",value:a.punchInKM,onChange:t=>c({...a,punchInKM:t}),required:!0}),e.jsx(n,{label:"Closing KM *",type:"number",value:a.punchOutKM,onChange:t=>c({...a,punchOutKM:t}),required:!0})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"15px"},children:[e.jsx(n,{label:"Pick-up Location",value:a.pickUpLocation,onChange:t=>c({...a,pickUpLocation:t})}),e.jsx(n,{label:"Drop Location",value:a.dropLocation,onChange:t=>c({...a,dropLocation:t})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"15px"},children:[e.jsx(n,{label:"Fuel Spent (₹)",type:"number",value:a.fuelAmount,onChange:t=>c({...a,fuelAmount:t})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.2fr 1fr",gap:"15px"},children:[e.jsx(n,{label:"Parking/Toll (₹)",type:"number",value:a.parkingAmount,onChange:t=>c({...a,parkingAmount:t})}),e.jsxs("div",{children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Paid By"}),e.jsxs("div",{style:{display:"flex",background:"rgba(255,255,255,0.02)",borderRadius:"12px",padding:"4px",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsx("button",{type:"button",onClick:()=>c({...a,parkingPaidBy:"Self"}),style:{flex:1,padding:"8px",borderRadius:"8px",border:"none",background:a.parkingPaidBy==="Self"?"#fbbf24":"transparent",color:a.parkingPaidBy==="Self"?"black":"white",fontSize:"12px",fontWeight:"800",cursor:"pointer"},children:"Self"}),e.jsx("button",{type:"button",onClick:()=>c({...a,parkingPaidBy:"Office"}),style:{flex:1,padding:"8px",borderRadius:"8px",border:"none",background:a.parkingPaidBy==="Office"?"#fbbf24":"transparent",color:a.parkingPaidBy==="Office"?"black":"white",fontSize:"12px",fontWeight:"800",cursor:"pointer"},children:"Office"})]})]})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"15px",alignItems:"end"},children:[e.jsx(n,{label:"Duty Salary (Wage) *",type:"number",value:a.dailyWage,onChange:t=>c({...a,dailyWage:t}),required:!0}),e.jsx(n,{label:"Extra Bonus (₹)",type:"number",value:a.otherBonus,onChange:t=>c({...a,otherBonus:t})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"15px"},children:[e.jsxs("div",{style:{padding:"12px",background:"rgba(255,255,255,0.02)",borderRadius:"12px",display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",border:a.allowanceTA?"1px solid #fbbf24":"1px solid rgba(255,255,255,0.05)"},onClick:()=>c({...a,allowanceTA:!a.allowanceTA}),children:[e.jsx("input",{type:"checkbox",checked:a.allowanceTA,readOnly:!0}),e.jsxs("div",{style:{fontSize:"12px"},children:[e.jsx("div",{style:{color:"white",fontWeight:"700"},children:"Day Bonus"}),e.jsx("div",{style:{color:"#fbbf24",fontWeight:"800"},children:"+ ₹100"})]})]}),e.jsxs("div",{style:{padding:"12px",background:"rgba(255,255,255,0.02)",borderRadius:"12px",display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",border:a.nightStayAmount?"1px solid #fbbf24":"1px solid rgba(255,255,255,0.05)"},onClick:()=>c({...a,nightStayAmount:!a.nightStayAmount}),children:[e.jsx("input",{type:"checkbox",checked:a.nightStayAmount,readOnly:!0}),e.jsxs("div",{style:{fontSize:"12px"},children:[e.jsx("div",{style:{color:"white",fontWeight:"700"},children:"Night Bonus"}),e.jsx("div",{style:{color:"#fbbf24",fontWeight:"800"},children:"+ ₹200"})]})]})]}),e.jsx("button",{type:"submit",disabled:I,style:{height:"56px",background:"linear-gradient(135deg, #fbbf24, #d97706)",borderRadius:"16px",fontWeight:"900",fontSize:"16px",color:"black",border:"none",boxShadow:"0 12px 24px -8px rgba(251, 191, 36, 0.5)",cursor:I?"not-allowed":"pointer",transition:"all 0.3s ease",textTransform:"uppercase",letterSpacing:"1px",marginTop:"10px"},children:I?"Saving...":"Record Duty"})]})]})})}),Le&&e.jsx(P,{title:`Duty Completion: ${A?.name}`,onClose:()=>oe(!1),children:e.jsxs("form",{onSubmit:et,style:{display:"grid",gap:"20px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[e.jsx(n,{label:"Closing KM *",type:"number",value:p.km,onChange:t=>j({...p,km:t}),required:!0}),e.jsx(n,{label:"Drop Location",value:p.dropLocation,onChange:t=>j({...p,dropLocation:t})})]}),e.jsx(n,{label:"Punch-Out Time *",type:"datetime-local",value:p.time,onChange:t=>j({...p,time:t}),required:!0}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[e.jsx(n,{label:"Fuel Spent (₹)",type:"number",value:p.fuelAmount,onChange:t=>j({...p,fuelAmount:t})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.2fr 1fr",gap:"15px"},children:[e.jsx(n,{label:"Parking/Toll (₹)",type:"number",value:p.parkingAmount,onChange:t=>j({...p,parkingAmount:t})}),e.jsxs("div",{children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Paid By"}),e.jsxs("div",{style:{display:"flex",background:"rgba(255,255,255,0.02)",borderRadius:"12px",padding:"4px",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsx("button",{type:"button",onClick:()=>j({...p,parkingPaidBy:"Self"}),style:{flex:1,padding:"8px",borderRadius:"8px",border:"none",background:p.parkingPaidBy==="Self"?"#6366f1":"transparent",color:"white",fontSize:"12px",fontWeight:"700",cursor:"pointer"},children:"Self"}),e.jsx("button",{type:"button",onClick:()=>j({...p,parkingPaidBy:"Office"}),style:{flex:1,padding:"8px",borderRadius:"8px",border:"none",background:p.parkingPaidBy==="Office"?"#6366f1":"transparent",color:"white",fontSize:"12px",fontWeight:"700",cursor:"pointer"},children:"Office"})]})]})]})]}),e.jsx(n,{label:"Duty Salary (Wage) *",type:"number",value:p.dailyWage,onChange:t=>j({...p,dailyWage:t}),required:!0}),e.jsx(n,{label:"Remarks",value:p.review,onChange:t=>j({...p,review:t})}),e.jsx(F,{disabled:I,text:"Finish Duty"})]})}),_e&&e.jsxs(P,{title:"Financial Disbursement",onClose:()=>de(!1),children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[e.jsx("div",{style:{width:"70px",height:"70px",borderRadius:"24px",background:"rgba(16, 185, 129, 0.1)",display:"flex",justifyContent:"center",alignItems:"center",margin:"0 auto 15px",border:"1px solid rgba(16, 185, 129, 0.2)"},children:e.jsx(We,{size:32,style:{color:"#10b981",transform:"rotate(180deg)"}})}),e.jsx("h3",{style:{color:"white",fontSize:"20px",fontWeight:"900",margin:"0 0 5px 0"},children:"Disburse Advance"}),e.jsxs("p",{style:{color:"rgba(255,255,255,0.4)",fontSize:"13px",margin:0},children:["Processing payment for ",e.jsx("span",{style:{color:"#6366f1",fontWeight:"800"},children:A?.name?.split(" (F)")[0]})]})]}),e.jsxs("form",{onSubmit:it,style:{display:"grid",gap:"25px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.5)",fontSize:"12px",fontWeight:"800",textTransform:"uppercase",marginBottom:"12px",display:"block"},children:"Payment Amount (₹) *"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("span",{style:{position:"absolute",left:"20px",top:"50%",transform:"translateY(-50%)",color:"#10b981",fontSize:"20px",fontWeight:"900"},children:"₹"}),e.jsx("input",{type:"number",className:"input-field",required:!0,value:v.amount,onChange:t=>R({...v,amount:t.target.value}),placeholder:"0.00",style:{paddingLeft:"45px",fontSize:"24px",fontWeight:"900",height:"70px",background:"rgba(5, 8, 15, 0.4)",border:"1px solid rgba(255,255,255,0.1)",color:"white",borderRadius:"20px"}})]}),e.jsx("div",{style:{display:"flex",gap:"8px",marginTop:"15px"},children:[500,1e3,2e3,5e3].map(t=>e.jsxs("button",{type:"button",onClick:()=>R({...v,amount:t.toString()}),style:{flex:1,padding:"10px",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)",background:"rgba(255,255,255,0.03)",color:"rgba(255,255,255,0.6)",fontSize:"11px",fontWeight:"900",cursor:"pointer",transition:"all 0.3s"},onMouseEnter:i=>i.currentTarget.style.border="1px solid rgba(16, 185, 129, 0.3)",onMouseLeave:i=>i.currentTarget.style.border="1px solid rgba(255,255,255,0.05)",children:["+₹",t]},t))})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:e.jsx(n,{label:"Value Date *",type:"date",value:v.date,onChange:t=>R({...v,date:t}),required:!0})}),e.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"20px",borderRadius:"24px",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsx("p",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"15px"},children:"Classification"}),e.jsx("div",{style:{display:"flex",gap:"10px"},children:["Office","Staff"].map(t=>e.jsx("button",{type:"button",onClick:()=>R({...v,advanceType:t}),style:{flex:1,padding:"12px",borderRadius:"14px",background:v.advanceType===t?"rgba(99, 102, 241, 0.15)":"rgba(5, 8, 15, 0.3)",color:v.advanceType===t?"#818cf8":"rgba(255,255,255,0.3)",fontWeight:"900",fontSize:"12px",cursor:"pointer",border:v.advanceType===t?"1px solid rgba(99, 102, 241, 0.3)":"1px solid rgba(255,255,255,0.02)"},children:t.toUpperCase()},t))})]}),e.jsx(n,{label:"Transaction Reference / Remark",placeholder:"e.g. Fuel Advance, Emergency...",value:v.remark,onChange:t=>R({...v,remark:t})}),e.jsx(F,{disabled:I,text:"DISBURSE FUNDS",message:V})]})]}),$e&&e.jsx(P,{title:`Documents: ${A?.name}`,onClose:()=>Ue(!1),children:e.jsxs("div",{style:{display:"grid",gap:"25px"},children:[A?.documents?.map((t,i)=>e.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",padding:"15px",borderRadius:"12px",display:"flex",justifyContent:"space-between"},children:[e.jsxs("div",{children:[e.jsx("p",{style:{color:"white",fontWeight:"700",margin:0},children:t.documentType}),e.jsx("p",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",margin:0},children:t.expiryDate?`Expires: ${new Date(t.expiryDate).toLocaleDateString()}`:"Lifetime"})]}),e.jsx("a",{href:t.imageUrl,target:"_blank",rel:"noreferrer",style:{color:"#6366f1",fontSize:"11px",fontWeight:"800"},children:"VIEW"})]},i)),e.jsxs("form",{onSubmit:tt,style:{display:"grid",gap:"15px",borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"20px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[e.jsx(n,{label:"Type",value:B.documentType,onChange:t=>ce({...B,documentType:t})}),e.jsx(n,{label:"Expiry",type:"date",value:B.expiryDate,onChange:t=>ce({...B,expiryDate:t})})]}),e.jsx("input",{type:"file",onChange:t=>Ce(t.target.files[0]),className:"input-field",style:{height:"48px",paddingTop:"10px"}}),e.jsx(F,{disabled:I,text:"Upload",message:V})]})]})}),Ye&&e.jsx(P,{title:"Edit Duty Record",onClose:()=>xe(!1),children:e.jsxs("form",{onSubmit:rt,style:{display:"grid",gap:"20px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[e.jsx(n,{label:"Duty Date *",type:"date",value:o.date,onChange:t=>x({...o,date:t}),required:!0}),e.jsxs("div",{children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.5)",fontSize:"12px",fontWeight:"700",letterSpacing:"0.5px",marginBottom:"10px",display:"block"},children:"Vehicle *"}),e.jsxs("select",{className:"input-field",required:!0,value:o.vehicleId,onChange:t=>x({...o,vehicleId:t.target.value}),style:{width:"100%",height:"52px",background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"14px",color:"white",padding:"0 15px"},children:[e.jsx("option",{value:"",style:{background:"#0f172a",color:"white"},children:"Select Car"}),M.map(t=>e.jsx("option",{value:t._id,style:{background:"#0f172a",color:"white"},children:t.carNumber?.split("#")[0]},t._id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.5)",fontSize:"12px",fontWeight:"700",letterSpacing:"0.5px",marginBottom:"10px",display:"block"},children:"Driver *"}),e.jsxs("select",{className:"input-field",required:!0,value:o.driverId,onChange:t=>x({...o,driverId:t.target.value}),style:{width:"100%",height:"52px",background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"14px",color:"white",padding:"0 15px"},children:[e.jsx("option",{value:"",style:{background:"#0f172a",color:"white"},children:"Select Driver"}),h.map(t=>e.jsx("option",{value:t._id,style:{background:"#0f172a",color:"white"},children:t.name.split(" (F)")[0]},t._id))]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[e.jsx(n,{label:"Punch-In Time",type:"datetime-local",value:o.punchInTime,onChange:t=>x({...o,punchInTime:t})}),e.jsx(n,{label:"Punch-Out Time",type:"datetime-local",value:o.punchOutTime,onChange:t=>x({...o,punchOutTime:t})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[e.jsx(n,{label:"Starting KM",type:"number",value:o.startKm,onChange:t=>x({...o,startKm:t})}),e.jsx(n,{label:"Closing KM",type:"number",value:o.endKm,onChange:t=>x({...o,endKm:t})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[e.jsx(n,{label:"Pick-up Location",value:o.pickUpLocation,onChange:t=>x({...o,pickUpLocation:t})}),e.jsx(n,{label:"Drop Location",value:o.dropLocation,onChange:t=>x({...o,dropLocation:t})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[e.jsx(n,{label:"Fuel Spent (₹)",type:"number",value:o.fuelAmount,onChange:t=>x({...o,fuelAmount:t})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",gap:"15px"},children:[e.jsx(n,{label:"Parking/Toll (₹)",type:"number",value:o.parkingAmount,onChange:t=>x({...o,parkingAmount:t})}),e.jsxs("div",{children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Paid By"}),e.jsxs("div",{style:{display:"flex",background:"rgba(255,255,255,0.02)",borderRadius:"12px",padding:"4px",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsx("button",{type:"button",onClick:()=>x({...o,parkingPaidBy:"Self"}),style:{flex:1,padding:"8px",borderRadius:"8px",border:"none",background:o.parkingPaidBy==="Self"?"#6366f1":"transparent",color:"white",fontSize:"12px",fontWeight:"700",cursor:"pointer"},children:"Self"}),e.jsx("button",{type:"button",onClick:()=>x({...o,parkingPaidBy:"Office"}),style:{flex:1,padding:"8px",borderRadius:"8px",border:"none",background:o.parkingPaidBy==="Office"?"#6366f1":"transparent",color:"white",fontSize:"12px",fontWeight:"700",cursor:"pointer"},children:"Office"})]})]})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[e.jsx(n,{label:"Daily Wage (₹) *",type:"number",value:o.dailyWage,onChange:t=>x({...o,dailyWage:t}),required:!0}),e.jsx(n,{label:"Bonus Amount (₹)",type:"number",value:o.bonusAmount,onChange:t=>x({...o,bonusAmount:t})})]}),e.jsxs("div",{style:{display:"flex",gap:"15px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("input",{type:"checkbox",checked:o.allowanceTA>0,onChange:t=>x({...o,allowanceTA:t.target.checked?100:0})}),e.jsx("span",{style:{fontSize:"12px",color:"white"},children:"Day Bonus"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("input",{type:"checkbox",checked:o.nightStayAmount>0,onChange:t=>x({...o,nightStayAmount:t.target.checked?200:0})}),e.jsx("span",{style:{fontSize:"12px",color:"white"},children:"Night Bonus"})]})]}),e.jsx(n,{label:"Remarks",value:o.remarks,onChange:t=>x({...o,remarks:t})}),e.jsx(F,{disabled:I,text:"Update Duty Record",message:V})]})})]}),e.jsx("style",{children:`
                @media (max-width: 768px) {
                    .settlement-row-header {
                        flex-direction: column !important;
                        align-items: flex-start !important;
                        text-align: left !important;
                    }
                    .settlement-stats-grid {
                        width: 100% !important;
                        justify-content: space-between !important;
                        gap: 15px !important;
                        margin: 10px 0 !important;
                        padding: 15px 0 !important;
                        border-top: 1px solid rgba(255,255,255,0.05) !important;
                        border-bottom: 1px solid rgba(255,255,255,0.05) !important;
                    }
                    .settlement-stats-grid > div {
                        flex: 1 !important;
                        text-align: left !important;
                    }
                    .header-actions {
                        width: 100% !important;
                        justify-content: space-between !important;
                        margin-top: 15px !important;
                    }
                    .header-actions > div {
                        flex: 1 !important;
                    }
                    .mobile-stack {
                        flex-direction: column !important;
                        align-items: flex-start !important;
                    }
                }
                .premium-row:hover {
                    background: rgba(30, 41, 59, 0.7) !important;
                    border-color: rgba(99, 102, 241, 0.2) !important;
                    transform: translateY(-2px);
                    box-shadow: 0 12px 30px rgba(0,0,0,0.3);
                }
                .premium-row {
                    transition: all 0.3s ease !important;
                }
            `})]})};export{Ot as default};
