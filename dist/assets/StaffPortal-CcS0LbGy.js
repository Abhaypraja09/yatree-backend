import{b as r,R as H,j as e,V as ae,e as oe,t as le,x as k,p as Y,I as de,k as F,m as o,H as M,a0 as ce,w as pe,a5 as xe,q as ge,_ as he,X as fe,ai as ue,aj as ye}from"./vendor-DzNx7Wzk.js";import{u as be,i as h}from"./index-Cv4Rgu7H.js";import{S as me}from"./SEO-CQTVrbvL.js";const we=()=>{const{user:l,logout:G}=be(),[d,V]=r.useState(null),[z,q]=r.useState([]),[I,_]=r.useState([]),[K,$]=r.useState(!0),[R,W]=r.useState(!1),[c,X]=r.useState("dashboard"),[v,Q]=r.useState(new Date),[n,T]=r.useState(null),[p,J]=r.useState([]),[x,Z]=r.useState(0),[ee,y]=r.useState(!1),[g,b]=r.useState(null),[D,te]=r.useState(null),s=H.useRef(null),S=H.useRef(null),[a,f]=r.useState({startDate:"",endDate:"",type:"Sick Leave",reason:""}),[L,E]=r.useState(!1);r.useEffect(()=>{(async()=>(await Promise.all([N(),P(),A(),B()]),$(!1)))();const i=setInterval(()=>Q(new Date),1e3);return()=>clearInterval(i)},[]);const B=async()=>{try{const{data:t}=await h.get("/api/staff/salary-cycles");J(t),t&&t.length>0&&T(t[x])}catch(t){console.error("Error fetching cycles:",t)}};r.useEffect(()=>{p&&p.length>x&&T(p[x])},[x,p]);const A=async()=>{try{const{data:t}=await h.get("/api/staff/leaves");_(t)}catch(t){console.error("Error fetching leaves:",t)}},ie=async t=>{t.preventDefault(),E(!0);try{await h.post("/api/staff/leave",a),alert("Leave request submitted successfully"),f({startDate:"",endDate:"",type:"Sick Leave",reason:""}),A()}catch(i){alert(i.response?.data?.message||"Error submitting leave")}finally{E(!1)}},N=async()=>{try{const{data:t}=await h.get("/api/staff/status");V(t.staff?t:null)}catch(t){console.error("Error fetching status:",t)}},P=async()=>{try{const{data:t}=await h.get("/api/staff/history");q(t)}catch(t){console.error("Error fetching history:",t)}},w=async t=>{te(t),y(!0),b(null);try{const i=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"},audio:!1});s.current&&(s.current.srcObject=i)}catch(i){console.error("Camera error:",i),alert("Could not access camera. Please ensure permissions are granted."),y(!1)}},O=()=>{s.current&&s.current.srcObject&&(s.current.srcObject.getTracks().forEach(i=>i.stop()),s.current.srcObject=null)},re=()=>{if(s.current&&S.current){const t=s.current,i=S.current;i.width=t.videoWidth,i.height=t.videoHeight,i.getContext("2d").drawImage(t,0,0,i.width,i.height);const u=i.toDataURL("image/jpeg",.8);b(u),O()}},ne=async()=>{if(!g){alert("Please capture a photo first.");return}const t=D;W(!0);try{if(!navigator.geolocation){alert("Geolocation is not supported by your browser or device.");return}const i=await new Promise((C,j)=>{navigator.geolocation.getCurrentPosition(C,j,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),{latitude:m,longitude:u}=i.coords;let U=`Coordinates: ${m.toFixed(6)}, ${u.toFixed(6)}`;try{const j=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${m}&lon=${u}&zoom=18`)).json();j.display_name&&(U=j.display_name)}catch{}const se=t==="in"?"/api/staff/punch-in":"/api/staff/punch-out";await h.post(se,{latitude:m,longitude:u,address:U,photo:g}),y(!1),b(null),N(),P(),B()}catch(i){alert(i.response?.data?.message||"Error processing punch.")}finally{W(!1)}};return K?e.jsx("div",{style:{minHeight:"100vh",background:"#020617",display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx("div",{className:"spinner",style:{width:"40px",height:"40px"}})}):e.jsxs("div",{style:{minHeight:"100vh",background:"#020617",color:"white",paddingBottom:"100px",fontFamily:"'Inter', sans-serif"},children:[e.jsx(me,{title:"Staff Portal | Dashboard"}),e.jsx("div",{style:{background:"linear-gradient(to bottom, rgba(15, 23, 42, 0.8), transparent)",padding:"30px 20px",marginBottom:"20px"},children:e.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[e.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"18px",background:"linear-gradient(135deg, #0ea5e9, #6366f1)",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 10px 20px rgba(14, 165, 233, 0.3)"},children:e.jsx(ae,{size:28,color:"white"})}),e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"20px",fontWeight:"900",margin:0,letterSpacing:"-0.5px"},children:l?.name}),e.jsx("p",{style:{fontSize:"12px",color:"#10b981",fontWeight:"700",margin:"2px 0 0"},children:l?.designation||"Staff Member"}),l?.joiningDate&&e.jsxs("p",{style:{fontSize:"10px",color:"rgba(255,255,255,0.35)",fontWeight:"600",margin:"2px 0 0"},children:["ðŸ“… Joined: ",new Date(l.joiningDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})," Â· Cycle: ",new Date(l.joiningDate).getDate(),"th"]})]})]}),e.jsxs("button",{onClick:G,style:{background:"rgba(244, 63, 94, 0.1)",border:"1px solid rgba(244, 63, 94, 0.2)",color:"#f43f5e",padding:"10px 18px",borderRadius:"14px",fontSize:"11px",fontWeight:"900",display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[e.jsx(oe,{size:16})," LOGOUT"]})]})}),e.jsxs("main",{style:{maxWidth:"600px",margin:"0 auto",padding:"0 20px"},children:[e.jsx("div",{style:{background:"rgba(15, 23, 42, 0.4)",padding:"6px",borderRadius:"20px",display:"flex",gap:"6px",marginBottom:"30px",border:"1px solid rgba(255,255,255,0.05)",overflowX:"auto",scrollbarWidth:"none"},children:[{id:"dashboard",label:"DASHBOARD",icon:le},{id:"attendance",label:"HISTORY",icon:k},{id:"leaves",label:"EMERGENCY",icon:Y},{id:"salary",label:"PAYROLL",icon:de}].map(t=>e.jsxs("button",{onClick:()=>X(t.id),style:{flex:1,minWidth:"100px",padding:"12px 10px",borderRadius:"15px",border:"none",background:c===t.id?"linear-gradient(135deg, #0ea5e9, #6366f1)":"transparent",color:c===t.id?"white":"rgba(255,255,255,0.4)",fontWeight:"900",fontSize:"10px",letterSpacing:"0.5px",cursor:"pointer",transition:"0.3s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[e.jsx(t.icon,{size:14}),t.label]},t.id))}),e.jsxs(F,{mode:"wait",children:[c==="dashboard"&&e.jsxs(o.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[e.jsxs("div",{style:{background:"rgba(30, 41, 59, 0.4)",padding:"40px 20px",borderRadius:"32px",textAlign:"center",border:"1px solid rgba(255,255,255,0.06)",backdropFilter:"blur(10px)",marginBottom:"24px"},children:[e.jsx("p",{style:{fontSize:"13px",color:"#fbbf24",fontWeight:"800",textTransform:"uppercase",letterSpacing:"2px",marginBottom:"15px"},children:v.toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long"})}),e.jsxs("h1",{style:{fontSize:"56px",fontWeight:"900",margin:0,letterSpacing:"-2px"},children:[v.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),e.jsx("span",{style:{fontSize:"20px",opacity:.3,marginLeft:"8px"},children:v.toLocaleTimeString("en-IN",{second:"2-digit"})})]}),e.jsx("div",{style:{marginTop:"40px"},children:d?d.punchOut?.time?e.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.1)",padding:"30px",borderRadius:"24px",border:"1px solid rgba(16, 185, 129, 0.2)"},children:[e.jsx(ce,{size:50,color:"#10b981",style:{margin:"0 auto 15px"}}),e.jsx("h3",{style:{margin:0,color:"#10b981",fontWeight:"900"},children:"DUTY COMPLETED"}),e.jsxs("p",{style:{fontSize:"13px",color:"rgba(255,255,255,0.4)",marginTop:"8px"},children:["See you tomorrow, ",l?.name.split(" ")[0],"!"]})]}):e.jsxs(o.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>w("out"),style:{width:"180px",height:"180px",borderRadius:"50%",background:"linear-gradient(135deg, #f43f5e, #e11d48)",border:"8px solid rgba(244, 63, 94, 0.2)",color:"white",fontWeight:"900",fontSize:"18px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"15px",boxShadow:"0 20px 40px rgba(244, 63, 94, 0.4)",cursor:"pointer"},children:[e.jsx(M,{size:40}),"PUNCH OUT"]}):e.jsxs(o.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>w("in"),style:{width:"180px",height:"180px",borderRadius:"50%",background:"linear-gradient(135deg, #0ea5e9, #6366f1)",border:"8px solid rgba(14, 165, 233, 0.2)",color:"white",fontWeight:"900",fontSize:"18px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"15px",boxShadow:"0 20px 40px rgba(14, 165, 233, 0.4)",cursor:"pointer"},children:[e.jsx(M,{size:40}),"PUNCH IN"]})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[e.jsxs("div",{style:{background:"rgba(30, 41, 59, 0.4)",padding:"24px",borderRadius:"24px",border:"1px solid rgba(255,255,255,0.06)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px"},children:[e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"10px",background:"rgba(16, 185, 129, 0.1)",display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(pe,{size:16,color:"#10b981"})}),e.jsx("span",{style:{fontSize:"11px",color:"rgba(255,255,255,0.4)",fontWeight:"800"},children:"CHECK IN"})]}),e.jsx("h2",{style:{fontSize:"24px",fontWeight:"900",margin:0},children:d?.punchIn?.time?new Date(d.punchIn.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--:--"})]}),e.jsxs("div",{style:{background:"rgba(30, 41, 59, 0.4)",padding:"24px",borderRadius:"24px",border:"1px solid rgba(255,255,255,0.06)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px"},children:[e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"10px",background:"rgba(244, 63, 94, 0.1)",display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(xe,{size:16,color:"#f43f5e"})}),e.jsx("span",{style:{fontSize:"11px",color:"rgba(255,255,255,0.4)",fontWeight:"800"},children:"CHECK OUT"})]}),e.jsx("h2",{style:{fontSize:"24px",fontWeight:"900",margin:0},children:d?.punchOut?.time?new Date(d.punchOut.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--:--"})]})]}),e.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(14, 165, 233, 0.1), rgba(99, 102, 241, 0.1))",padding:"24px",borderRadius:"28px",border:"1px solid rgba(255,255,255,0.1)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"rgba(255,255,255,0.5)",marginBottom:"8px",textTransform:"uppercase"},children:"Current Month Est."}),e.jsxs("h2",{style:{fontSize:"24px",fontWeight:"900",margin:0,color:"#10b981"},children:["â‚¹",n?.finalSalary?.toLocaleString()||"0"]})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:"rgba(255,255,255,0.5)",marginBottom:"8px",textTransform:"uppercase"},children:"Present Days"}),e.jsxs("h2",{style:{fontSize:"24px",fontWeight:"900",margin:0},children:[n?.presentDays||0,"d"]})]})]}),e.jsx("p",{style:{fontSize:"11px",color:"rgba(255,255,255,0.3)",textAlign:"center",marginTop:"15px"},children:"*Attendance is expected for all 30 days. Emergency leave buffer is for urgent cases only."})]},"dashboard"),c==="attendance"&&e.jsxs(o.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},children:[e.jsxs("h3",{style:{fontSize:"18px",fontWeight:"900",marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(k,{size:20,color:"#0ea5e9"})," ACTIVITY LOGS"]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:z.length===0?e.jsxs("div",{style:{padding:"60px 20px",textAlign:"center",background:"rgba(30, 41, 59, 0.4)",borderRadius:"24px"},children:[e.jsx(k,{size:48,style:{opacity:.1,marginBottom:"15px"}}),e.jsx("p",{style:{color:"rgba(255,255,255,0.3)",fontWeight:"600"},children:"No activity records found."})]}):z.map(t=>e.jsxs("div",{style:{background:"rgba(30, 41, 59, 0.4)",padding:"20px",borderRadius:"24px",border:"1px solid rgba(255,255,255,0.06)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"900",fontSize:"15px"},children:t.date}),e.jsxs("div",{style:{fontSize:"11px",color:"rgba(255,255,255,0.4)",marginTop:"4px",fontWeight:"700",display:"flex",alignItems:"center",gap:"6px"},children:[t.status==="present"?"FULL DAY DUTY":t.status.toUpperCase(),t.punchIn?.location?.address==="Admin Added"&&e.jsx("span",{style:{background:"rgba(251,191,36,0.12)",color:"#fbbf24",padding:"2px 7px",borderRadius:"6px",fontSize:"9px",fontWeight:"900",border:"1px solid rgba(251,191,36,0.2)"},children:"ADMIN"})]})]}),e.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:[e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("div",{style:{fontSize:"13px",fontWeight:"900",color:"#10b981"},children:t.punchIn?.time?new Date(t.punchIn.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--:--"}),e.jsx("div",{style:{fontSize:"13px",fontWeight:"900",color:"#f43f5e",marginTop:"4px"},children:t.punchOut?.time?new Date(t.punchOut.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--:--"})]}),e.jsx(ge,{size:16,color:"rgba(255,255,255,0.1)"})]})]},t._id))})]},"attendance"),c==="leaves"&&e.jsxs(o.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},children:[e.jsxs("div",{style:{background:"rgba(244, 63, 94, 0.1)",border:"1px solid rgba(244, 63, 94, 0.2)",padding:"15px 20px",borderRadius:"20px",marginBottom:"25px",display:"flex",gap:"15px",alignItems:"center"},children:[e.jsx(he,{size:20,color:"#f43f5e"}),e.jsxs("p",{style:{margin:0,fontSize:"12px",color:"rgba(255,255,255,0.7)",lineHeight:"1.5"},children:[e.jsx("strong",{children:"Emergency Policy:"})," Staff is expected to be present for 30 days. These 4 leaves are reserved for ",e.jsx("strong",{children:"emergencies only"}),". Unnecessary leaves are discouraged."]})]}),e.jsxs("div",{style:{background:"rgba(30, 41, 59, 0.4)",padding:"30px",borderRadius:"32px",border:"1px solid rgba(255,255,255,0.06)",marginBottom:"30px"},children:[e.jsxs("h3",{style:{fontSize:"18px",fontWeight:"900",marginBottom:"25px",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(Y,{size:20,color:"#fbbf24"})," REPORT EMERGENCY LEAVE"]}),e.jsxs("form",{onSubmit:ie,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{fontSize:"10px",color:"rgba(255,255,255,0.4)",fontWeight:"800",textTransform:"uppercase",marginBottom:"10px",display:"block",letterSpacing:"1px"},children:"Start Date"}),e.jsx("input",{type:"date",required:!0,className:"input-field",value:a.startDate,onChange:t=>f({...a,startDate:t.target.value}),style:{marginBottom:0,height:"52px",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",color:"white"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{fontSize:"10px",color:"rgba(255,255,255,0.4)",fontWeight:"800",textTransform:"uppercase",marginBottom:"10px",display:"block",letterSpacing:"1px"},children:"End Date"}),e.jsx("input",{type:"date",required:!0,className:"input-field",value:a.endDate,onChange:t=>f({...a,endDate:t.target.value}),style:{marginBottom:0,height:"52px",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",color:"white"}})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{fontSize:"10px",color:"rgba(255,255,255,0.4)",fontWeight:"800",textTransform:"uppercase",marginBottom:"10px",display:"block",letterSpacing:"1px"},children:"Leave Category"}),e.jsxs("select",{className:"input-field",value:a.type,onChange:t=>f({...a,type:t.target.value}),style:{marginBottom:0,height:"52px",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",color:"white"},children:[e.jsx("option",{value:"Sick Leave",children:"Sick Leave"}),e.jsx("option",{value:"Casual Leave",children:"Casual Leave"}),e.jsx("option",{value:"Personal",children:"Personal"}),e.jsx("option",{value:"Emergency",children:"Emergency"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{fontSize:"10px",color:"rgba(255,255,255,0.4)",fontWeight:"800",textTransform:"uppercase",marginBottom:"10px",display:"block",letterSpacing:"1px"},children:"Reason / Details"}),e.jsx("textarea",{className:"input-field",rows:"3",value:a.reason,onChange:t=>f({...a,reason:t.target.value}),style:{marginBottom:0,resize:"none",padding:"15px",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",color:"white"}})]}),e.jsx("button",{type:"submit",disabled:L,style:{height:"56px",background:"linear-gradient(135deg, #0ea5e9, #6366f1)",border:"none",borderRadius:"16px",color:"white",fontWeight:"900",cursor:"pointer",boxShadow:"0 10px 20px -5px rgba(99, 102, 241, 0.4)"},children:L?"SUBMITTING...":"SUBMIT REQUEST"})]})]}),e.jsx("h3",{style:{fontSize:"18px",fontWeight:"900",marginBottom:"20px"},children:"PREVIOUS REQUESTS"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:I.length===0?e.jsx("p",{style:{textAlign:"center",opacity:.3,padding:"20px"},children:"No leave history."}):I.map(t=>e.jsxs("div",{style:{background:"rgba(30, 41, 59, 0.4)",padding:"20px",borderRadius:"24px",border:"1px solid rgba(255,255,255,0.06)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[e.jsx("span",{style:{fontWeight:"900",fontSize:"14px"},children:t.type}),e.jsx("span",{style:{fontSize:"10px",fontWeight:"900",color:t.status==="Approved"?"#10b981":t.status==="Rejected"?"#f43f5e":"#fbbf24",background:"rgba(255,255,255,0.05)",padding:"4px 10px",borderRadius:"8px"},children:t.status.toUpperCase()})]}),e.jsxs("div",{style:{fontSize:"12px",color:"rgba(255,255,255,0.4)",fontWeight:"600"},children:[t.startDate," to ",t.endDate]})]},t._id))})]},"leaves"),c==="salary"&&e.jsxs(o.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},children:[p.length>0&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{fontSize:"11px",fontWeight:"900",color:"rgba(255,255,255,0.5)",textTransform:"uppercase",marginBottom:"8px",display:"block",letterSpacing:"1px"},children:"SELECT SALARY CYCLE"}),e.jsx("select",{className:"input-field",style:{height:"52px",background:"rgba(30,41,59,0.8)",border:"1px solid rgba(255,255,255,0.1)",color:"white",borderRadius:"16px",fontWeight:"700"},value:x,onChange:t=>Z(parseInt(t.target.value)),children:p.map((t,i)=>e.jsxs("option",{value:i,children:[t.cycleLabel," ",i===0?"(Current)":""]},i))})]}),e.jsxs("div",{style:{background:"linear-gradient(135deg, #0f172a, #020617)",padding:"40px 30px",borderRadius:"32px",border:"1px solid rgba(255,255,255,0.1)",textAlign:"center",marginBottom:"25px",position:"relative",overflow:"hidden"},children:[e.jsx("div",{style:{position:"absolute",top:"-20%",right:"-20%",width:"60%",height:"60%",background:"radial-gradient(circle, rgba(16, 185, 129, 0.1) 0%, transparent 70%)",filter:"blur(40px)"}}),e.jsx("p",{style:{fontSize:"11px",fontWeight:"900",color:"rgba(255,255,255,0.4)",textTransform:"uppercase",letterSpacing:"2px",marginBottom:"15px"},children:x===0?"Current Cycle Estimate":"Cycle Earnings"}),e.jsxs("h1",{style:{fontSize:"56px",fontWeight:"900",color:"#10b981",margin:0},children:["â‚¹",n?.finalSalary?.toLocaleString()||"0"]}),e.jsx("p",{style:{fontSize:"12px",color:"#0ea5e9",marginTop:"10px",fontWeight:"800"},children:n?.cycleLabel||""})]}),e.jsxs("div",{style:{background:"rgba(30, 41, 59, 0.4)",borderRadius:"28px",border:"1px solid rgba(255,255,255,0.06)",overflow:"hidden"},children:[e.jsx("div",{style:{padding:"20px 24px",background:"rgba(255,255,255,0.03)",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:e.jsx("h4",{style:{margin:0,fontSize:"14px",fontWeight:"900"},children:"PAYROLL BREAKDOWN"})}),e.jsxs("div",{style:{padding:"24px",display:"flex",flexDirection:"column",gap:"20px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontSize:"14px",color:"rgba(255,255,255,0.4)",fontWeight:"700"},children:"Monthly Base Salary"}),e.jsxs("span",{style:{fontWeight:"900"},children:["â‚¹",n?.salary?.toLocaleString()||"0"]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontSize:"14px",color:"rgba(255,255,255,0.4)",fontWeight:"700"},children:"Days Present"}),e.jsxs("span",{style:{fontWeight:"900"},children:[n?.presentDays||0," Days"]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontSize:"14px",color:"rgba(244, 63, 94, 0.6)",fontWeight:"700"},children:"Leaves (Over Emergency Buffer)"}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsxs("span",{style:{fontWeight:"900",color:"#f43f5e",display:"block"},children:["-â‚¹",n?.deduction?.toLocaleString()||"0"]}),n?.extraLeaves>0&&e.jsxs("span",{style:{fontSize:"10px",color:"rgba(244,63,94,0.6)",fontWeight:"700"},children:["(",n.extraLeaves," extra leave",n.extraLeaves>1?"s":"",")"]})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontSize:"14px",color:"rgba(16, 185, 129, 0.6)",fontWeight:"700"},children:"Sunday Bonuses"}),e.jsxs("span",{style:{fontWeight:"900",color:"#10b981"},children:["+â‚¹",n?.sundayBonus?.toLocaleString()||"0"]})]}),e.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.05)",paddingTop:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{fontWeight:"900",fontSize:"16px"},children:"NET PAYABLE"}),e.jsxs("span",{style:{fontWeight:"900",fontSize:"20px",color:"#10b981"},children:["â‚¹",n?.finalSalary?.toLocaleString()||"0"]})]})]})]})]},"salary")]})]}),e.jsx(F,{children:ee&&e.jsxs(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"#000",zIndex:2e3,display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(0,0,0,0.5)"},children:[e.jsx("h2",{style:{fontSize:"18px",fontWeight:"900",margin:0},children:"ID VERIFICATION"}),e.jsx("button",{onClick:()=>{O(),y(!1)},style:{background:"none",border:"none",color:"white",cursor:"pointer"},children:e.jsx(fe,{size:28})})]}),e.jsxs("div",{style:{flex:1,position:"relative",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},children:[g?e.jsx("img",{src:g,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("video",{ref:s,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover",transform:"scaleX(-1)"}}),e.jsx("canvas",{ref:S,style:{display:"none"}}),!g&&e.jsx(o.div,{animate:{y:[0,300,0]},transition:{duration:3,repeat:1/0,ease:"linear"},style:{position:"absolute",top:"10%",left:"10%",right:"10%",height:"2px",background:"rgba(14, 165, 233, 0.5)",boxShadow:"0 0 20px #0ea5e9",zIndex:5}})]}),e.jsx("div",{style:{padding:"50px 20px",background:"rgba(0,0,0,0.9)",display:"flex",justifyContent:"center",gap:"20px"},children:g?e.jsxs("div",{style:{display:"flex",gap:"20px",width:"100%",maxWidth:"400px"},children:[e.jsxs("button",{onClick:()=>{b(null),w(D)},style:{flex:1,background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",color:"white",padding:"18px",borderRadius:"18px",fontWeight:"900",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",cursor:"pointer"},children:[e.jsx(ue,{size:20})," RETAKE"]}),e.jsx("button",{onClick:ne,disabled:R,style:{flex:1,background:"linear-gradient(135deg, #0ea5e9, #6366f1)",border:"none",color:"white",padding:"18px",borderRadius:"18px",fontWeight:"900",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",cursor:"pointer",boxShadow:"0 10px 20px rgba(99, 102, 241, 0.4)"},children:R?"VERIFYING...":e.jsxs(e.Fragment,{children:[e.jsx(ye,{size:20})," AUTHORIZE"]})})]}):e.jsx("button",{onClick:re,style:{width:"80px",height:"80px",borderRadius:"50%",background:"white",border:"8px solid rgba(255,255,255,0.2)",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},children:e.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"50%",border:"2px solid #000"}})})})]})}),e.jsx("style",{children:`
                .spinner {
                    border: 3px solid rgba(14, 165, 233, 0.1);
                    border-radius: 50%;
                    border-top: 3px solid #0ea5e9;
                    animation: spin 1s linear infinite;
                }
                @keyframes spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
                .input-field {
                    width: 100%;
                    padding: 0 16px;
                    border-radius: 16px;
                    font-size: 14px;
                    font-weight: 500;
                    margin-bottom: 20px;
                    transition: 0.3s;
                    box-sizing: border-box;
                }
                .input-field:focus {
                    border-color: #0ea5e9 !important;
                    outline: none;
                }
                ::-webkit-scrollbar { display: none; }
            `})]})};export{we as default};
