import{b as i,j as e,B as he,a9 as ue,Q as U,O as me,l as _,m as A,ag as fe,J as q,X as L,V as ye,M as be,I as je,C as ve,z as Se}from"./vendor-BHRyg4ZX.js";import{b as we,i as p}from"./index-BPiKbppI.js";import{S as ke}from"./SEO-MPXVcEbJ.js";import{a as u}from"./xlsx.min-DHmspywJ.js";import"./excel-DBw7RJ0s.js";const Ie=()=>{const{selectedCompany:c}=we(),[T,J]=i.useState([]),[P,O]=i.useState(!0),[I,Y]=i.useState(""),[D,G]=i.useState("All"),m=()=>new Date().toISOString().split("T")[0],H=()=>{const t=new Date;return t.setDate(t.getDate()-30),t.toISOString().split("T")[0]},[v,X]=i.useState(H()),[S,Q]=i.useState(m()),[K,w]=i.useState(!1),[Z,W]=i.useState(!1),[n,E]=i.useState(null),[B,F]=i.useState(null),[ee,$]=i.useState(!1),[l,x]=i.useState({name:"",client:"",date:m(),location:"",description:""}),[a,d]=i.useState({carNumber:"",model:"",ownerName:"",dutyType:"",dutyAmount:"",dropLocation:"",date:m()}),[R,M]=i.useState(!1),[k,te]=i.useState([]);i.useEffect(()=>{c&&(f(),re())},[c,v,S]);const re=async()=>{if(c?._id)try{const t=JSON.parse(localStorage.getItem("userInfo")),{data:r}=await p.get(`/api/admin/vehicles/${c._id}`,{headers:{Authorization:`Bearer ${t.token}`}});te(r.vehicles||[])}catch(t){console.error(t)}},f=async()=>{if(c?._id){O(!0);try{const t=JSON.parse(localStorage.getItem("userInfo")),{data:r}=await p.get(`/api/admin/events/${c._id}?from=${v}&to=${S}`,{headers:{Authorization:`Bearer ${t.token}`}});J(r||[])}catch(t){console.error(t)}finally{O(!1)}}},C=async t=>{$(!0);try{const r=JSON.parse(localStorage.getItem("userInfo")),{data:s}=await p.get(`/api/admin/events/details/${t}`,{headers:{Authorization:`Bearer ${r.token}`}});F(s)}catch(r){console.error(r)}finally{$(!1)}},ae=async t=>{t.preventDefault();try{const r=JSON.parse(localStorage.getItem("userInfo"));R?await p.put(`/api/admin/events/${n._id}`,l,{headers:{Authorization:`Bearer ${r.token}`}}):await p.post("/api/admin/events",{...l,companyId:c._id},{headers:{Authorization:`Bearer ${r.token}`}}),w(!1),f(),n&&C(n._id)}catch{alert("Error saving event")}},ne=async t=>{t.preventDefault();try{const r=JSON.parse(localStorage.getItem("userInfo")),g={carNumber:`${a.carNumber}#${a.date}#${Math.random().toString(36).substring(2,7)}`,model:a.model,ownerName:a.ownerName,dutyType:a.dutyType,dutyAmount:Number(a.dutyAmount),dropLocation:a.dropLocation,companyId:c._id,isOutsideCar:!0,eventId:n._id,createdAt:a.date},h=new FormData;Object.keys(g).forEach(N=>h.append(N,g[N])),h.append("permitType","Contract"),h.append("carType","Other"),await p.post("/api/admin/vehicles",h,{headers:{Authorization:`Bearer ${r.token}`}}),W(!1),d({carNumber:"",model:"",ownerName:"",dutyType:"",dutyAmount:"",dropLocation:"",date:m()}),C(n._id),f()}catch{alert("Error adding car record")}},ie=t=>{t=t.toUpperCase();const r=k.find(s=>s.carNumber?.toUpperCase()===t||s.carNumber?.split("#")[0].toUpperCase()===t);d(r?{...a,carNumber:t,model:r.model||a.model,ownerName:r.ownerName||a.ownerName}:{...a,carNumber:t})},se=async t=>{if(window.confirm("Delete this event and all associated car records?"))try{const r=JSON.parse(localStorage.getItem("userInfo"));await p.delete(`/api/admin/events/${t}`,{headers:{Authorization:`Bearer ${r.token}`}}),F(null),E(null),f()}catch{alert("Error deleting event")}},oe=async t=>{if(window.confirm("Remove this car record?"))try{const r=JSON.parse(localStorage.getItem("userInfo"));await p.delete(`/api/admin/vehicles/${t}`,{headers:{Authorization:`Bearer ${r.token}`}}),C(n._id),f()}catch{alert("Error deleting record")}};T.reduce((t,r)=>{const s=new Date(r.date),g=new Date;return s.getMonth()===g.getMonth()&&s.getFullYear()===g.getFullYear()?t+(r.totalAmount||0):t},0);const le=[...new Set(T.map(t=>t.client).filter(Boolean))].sort(),y=T.filter(t=>{const r=t.name.toLowerCase().includes(I.toLowerCase())||t.client?.toLowerCase().includes(I.toLowerCase()),s=D==="All"||t.client===D;return r&&s}),de=y.reduce((t,r)=>t+(r.totalAmount||0),0),ce=()=>{const t=y.map(o=>({"Event Name":o.name,Client:o.client||"N/A",Date:new Date(o.date).toLocaleDateString("en-IN"),Venue:o.location||"N/A","Total Amount":o.totalAmount||0,Status:o.status,Records:o.recordCount||0})),r=u.utils.book_new(),s=u.utils.json_to_sheet(t),g={fill:{fgColor:{rgb:"4F46E5"}},font:{color:{rgb:"FFFFFF"},bold:!0},alignment:{horizontal:"center"}},h=u.utils.decode_range(s["!ref"]);for(let o=h.s.c;o<=h.e.c;++o){const j=u.utils.encode_col(o)+"1";s[j]&&(s[j].s=g)}u.utils.book_append_sheet(r,s,"Events Report");const N=u.write(r,{bookType:"xlsx",type:"binary"}),pe=o=>{const j=new ArrayBuffer(o.length),ge=new Uint8Array(j);for(let z=0;z<o.length;z++)ge[z]=o.charCodeAt(z)&255;return j},xe=new Blob([pe(N)],{type:"application/octet-stream"}),V=URL.createObjectURL(xe),b=document.createElement("a");b.href=V,b.download=`Events_Report_${v}_to_${S}.xlsx`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(V)};return e.jsxs("div",{className:"container-fluid",style:{paddingBottom:"60px"},children:[e.jsx(ke,{title:"Event Management",description:"Track cars and expenses for special events and bookings."}),e.jsxs("header",{style:{padding:"40px 0"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"20px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[e.jsx("div",{style:{width:"50px",height:"50px",background:"linear-gradient(135deg, #6366f1, #0ea5e9)",borderRadius:"16px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 10px 25px rgba(99, 102, 241, 0.3)"},children:e.jsx(he,{size:28,color:"white"})}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[e.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"#6366f1",boxShadow:"0 0 8px #6366f1"}}),e.jsx("span",{style:{fontSize:"10px",fontWeight:"800",color:"rgba(255,255,255,0.5)",letterSpacing:"1px",textTransform:"uppercase"},children:"Operations"})]}),e.jsxs("h1",{style:{color:"white",fontSize:"32px",fontWeight:"900",margin:0,letterSpacing:"-1px"},children:["Event ",e.jsx("span",{className:"text-gradient-indigo",children:"Management"})]})]})]}),e.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:[e.jsxs("div",{className:"glass-card",style:{padding:"12px 20px",display:"flex",flexDirection:"column",minWidth:"150px",borderLeft:"4px solid #10b981",background:"rgba(16, 185, 129, 0.05)"},children:[e.jsx("span",{style:{fontSize:"9px",fontWeight:"800",color:"#34d399",textTransform:"uppercase"},children:"Total Payable (Filtered)"}),e.jsxs("span",{style:{color:"white",fontSize:"20px",fontWeight:"900"},children:["₹",de.toLocaleString()]})]}),e.jsxs("button",{onClick:ce,style:{height:"52px",padding:"0 20px",background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.2)",color:"#10b981",fontWeight:"800",display:"flex",alignItems:"center",gap:"8px",borderRadius:"12px",cursor:"pointer"},children:[e.jsx(ue,{size:18})," Excel"]}),e.jsxs("button",{onClick:()=>{M(!1),x({name:"",client:"",date:m(),location:"",description:""}),w(!0)},className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"10px",height:"52px",padding:"0 25px",borderRadius:"14px",background:"linear-gradient(135deg, #fbbf24 0%, #d97706 100%)",color:"black",fontWeight:"800",border:"none"},children:[e.jsx(U,{size:20})," Create Event"]})]})]}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"12px",marginTop:"30px",background:"rgba(15, 23, 42, 0.3)",padding:"15px",borderRadius:"18px",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsxs("div",{style:{flex:"1 1 250px",position:"relative"},children:[e.jsx(me,{size:18,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"rgba(255,255,255,0.4)"}}),e.jsx("input",{type:"text",placeholder:"Search event or client...",value:I,onChange:t=>Y(t.target.value),style:{width:"100%",height:"50px",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"14px",paddingLeft:"45px",color:"white"}})]}),e.jsxs("select",{value:D,onChange:t=>G(t.target.value),style:{flex:"1 1 180px",height:"50px",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"14px",color:"white",padding:"0 15px"},children:[e.jsx("option",{value:"All",style:{background:"#1e293b"},children:"All Clients"}),le.map(t=>e.jsx("option",{value:t,style:{background:"#1e293b"},children:t},t))]}),e.jsxs("div",{style:{display:"flex",gap:"8px",flex:"0 0 auto"},children:[e.jsx("input",{type:"date",value:v,onChange:t=>X(t.target.value),style:{width:"135px",height:"50px",fontSize:"13px",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"14px",color:"white",padding:"0 12px"}}),e.jsx("input",{type:"date",value:S,onChange:t=>Q(t.target.value),style:{width:"135px",height:"50px",fontSize:"13px",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"14px",color:"white",padding:"0 12px"}})]})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:n?"1fr 1.5fr":"1fr",gap:"30px",transition:"all 0.4s ease"},children:[e.jsxs("div",{className:"glass-card",style:{padding:"0",overflow:"hidden"},children:[e.jsx("div",{style:{padding:"15px 20px",borderBottom:"1px solid rgba(255,255,255,0.05)",background:"rgba(255,255,255,0.02)",display:"flex",justifyContent:"space-between"},children:e.jsxs("span",{style:{fontSize:"11px",fontWeight:"800",color:"rgba(255,255,255,0.4)",textTransform:"uppercase"},children:["Available Events (",y.length,")"]})}),e.jsx("div",{style:{maxHeight:"60vh",overflowY:"auto"},className:"custom-scrollbar",children:P?e.jsx("div",{style:{padding:"60px",textAlign:"center"},children:e.jsx("div",{className:"spinner",style:{margin:"0 auto"}})}):y.length===0?e.jsx("div",{style:{padding:"60px",textAlign:"center",color:"rgba(255,255,255,0.2)"},children:e.jsx("p",{children:"No events found"})}):y.map(t=>e.jsxs("div",{onClick:()=>{E(t),C(t._id)},style:{padding:"20px",borderBottom:"1px solid rgba(255,255,255,0.03)",cursor:"pointer",background:n?._id===t._id?"rgba(99, 102, 241, 0.1)":"transparent",transition:"all 0.2s ease",position:"relative"},className:"event-item-hover",children:[n?._id===t._id&&e.jsx("div",{style:{position:"absolute",left:0,top:"20%",bottom:"20%",width:"4px",background:"#6366f1",borderRadius:"0 4px 4px 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("h3",{style:{color:"white",margin:0,fontSize:"18px",fontWeight:"800"},children:t.name}),new Date(t.date).toDateString()===new Date().toDateString()&&e.jsx("span",{className:"badge-today",style:{fontSize:"9px",background:"#f43f5e",color:"white",padding:"2px 8px",borderRadius:"4px",fontWeight:"900",letterSpacing:"0.5px"},children:"TODAY"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"6px"},children:[e.jsx("span",{style:{fontSize:"12px",color:"rgba(255,255,255,0.4)",fontWeight:"600"},children:new Date(t.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}),e.jsx("span",{style:{width:"4px",height:"4px",borderRadius:"50%",background:"rgba(255,255,255,0.2)"}}),e.jsx("span",{style:{fontSize:"12px",color:"#6366f1",fontWeight:"800"},children:t.client||"General Client"})]})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsxs("div",{style:{color:"white",fontWeight:"900",fontSize:"16px"},children:["₹",t.totalAmount?.toLocaleString()||0]}),e.jsxs("span",{style:{fontSize:"10px",color:t.status==="Active"?"#34d399":"rgba(255,255,255,0.3)",fontWeight:"900",textTransform:"uppercase"},children:[t.status," (",t.recordCount||0," CARS)"]})]})]})]},t._id))})]}),e.jsx(_,{mode:"wait",children:n?e.jsxs(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"glass-card",style:{padding:"30px",background:"rgba(15, 23, 42, 0.6)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"30px"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:[e.jsx("span",{style:{background:"#6366f1",color:"white",fontSize:"10px",fontWeight:"900",padding:"4px 10px",borderRadius:"20px",textTransform:"uppercase"},children:"Event Details"}),e.jsxs("span",{style:{color:"rgba(255,255,255,0.3)",fontSize:"12px"},children:["ID: ",n._id.slice(-6).toUpperCase()]})]}),e.jsx("h2",{style:{color:"white",fontSize:"28px",fontWeight:"900",margin:0},children:n.name}),e.jsx("p",{style:{color:"rgba(255,255,255,0.5)",marginTop:"8px",fontSize:"14px"},children:n.description||"No description provided for this event."})]}),e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsx("button",{onClick:()=>{x({...n,date:new Date(n.date).toISOString().split("T")[0]}),M(!0),w(!0)},style:{background:"rgba(255,255,255,0.05)",color:"white",border:"1px solid rgba(255,255,255,0.1)",padding:"10px",borderRadius:"12px",cursor:"pointer"},children:e.jsx(fe,{size:18})}),e.jsx("button",{onClick:()=>se(n._id),style:{background:"rgba(244, 63, 94, 0.1)",color:"#f43f5e",border:"1px solid rgba(244, 63, 94, 0.2)",padding:"10px",borderRadius:"12px",cursor:"pointer"},children:e.jsx(q,{size:18})}),e.jsx("button",{onClick:()=>E(null),style:{background:"rgba(255,255,255,0.05)",color:"white",border:"none",padding:"10px",borderRadius:"12px",cursor:"pointer"},children:e.jsx(L,{size:18})})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"20px",marginBottom:"40px"},children:[e.jsxs("div",{className:"glass-card",style:{padding:"15px",background:"rgba(255,255,255,0.02)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"5px"},children:[e.jsx(ye,{size:12})," Client name"]}),e.jsx("div",{style:{color:"white",fontWeight:"800",fontSize:"15px"},children:n.client||"N/A"})]}),e.jsxs("div",{className:"glass-card",style:{padding:"15px",background:"rgba(255,255,255,0.02)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"5px"},children:[e.jsx(be,{size:12})," Venue"]}),e.jsx("div",{style:{color:"white",fontWeight:"800",fontSize:"15px"},children:n.location||"N/A"})]}),e.jsxs("div",{className:"glass-card",style:{padding:"15px",background:"rgba(16, 185, 129, 0.05)",border:"1px solid rgba(16, 185, 129, 0.1)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#10b981",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"5px"},children:[e.jsx(je,{size:12})," Total Budget"]}),e.jsxs("div",{style:{color:"white",fontWeight:"900",fontSize:"18px"},children:["₹",B?.event?.totalAmount?.toLocaleString()||0]})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[e.jsxs("h3",{style:{color:"white",fontSize:"18px",fontWeight:"900",margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(ve,{size:20,color:"#6366f1"})," Assigned Cars & Duties"]}),e.jsxs("button",{onClick:()=>{d({...a,date:new Date(n.date).toISOString().split("T")[0]}),W(!0)},style:{background:"#6366f1",color:"white",border:"none",padding:"8px 15px",borderRadius:"10px",fontSize:"13px",fontWeight:"800",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(U,{size:16})," Add Car Record"]})]}),e.jsx("div",{style:{overflowX:"auto",background:"rgba(0,0,0,0.2)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.05)"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[e.jsx("thead",{style:{background:"rgba(255,255,255,0.02)",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:e.jsxs("tr",{children:[e.jsx("th",{style:{padding:"12px 15px",textAlign:"left",color:"rgba(255,255,255,0.4)",fontWeight:"800",textTransform:"uppercase",fontSize:"10px"},children:"Vehicle"}),e.jsx("th",{style:{padding:"12px 15px",textAlign:"left",color:"rgba(255,255,255,0.4)",fontWeight:"800",textTransform:"uppercase",fontSize:"10px"},children:"Vendor / Owner"}),e.jsx("th",{style:{padding:"12px 15px",textAlign:"left",color:"rgba(255,255,255,0.4)",fontWeight:"800",textTransform:"uppercase",fontSize:"10px"},children:"Duty Detail"}),e.jsx("th",{style:{padding:"12px 15px",textAlign:"right",color:"rgba(255,255,255,0.4)",fontWeight:"800",textTransform:"uppercase",fontSize:"10px"},children:"Amount"}),e.jsx("th",{style:{padding:"12px 15px",textAlign:"center",color:"rgba(255,255,255,0.4)",fontWeight:"800",textTransform:"uppercase",fontSize:"10px"},children:"Action"})]})}),e.jsx("tbody",{children:ee?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",style:{padding:"40px",textAlign:"center"},children:e.jsx("div",{className:"spinner",style:{margin:"0 auto"}})})}):B?.records?.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",style:{padding:"40px",textAlign:"center"},children:e.jsx("div",{style:{padding:"20px",color:"rgba(255,255,255,0.2)"},children:"No car records assigned yet."})})}):B?.records?.map((t,r)=>e.jsxs(A.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:r*.03},style:{borderBottom:"1px solid rgba(255,255,255,0.03)",transition:"background 0.2s"},className:"record-row-hover",children:[e.jsxs("td",{style:{padding:"12px 15px"},children:[e.jsx("div",{style:{fontWeight:"800",color:"white"},children:t.carNumber?.split("#")[0]}),e.jsx("div",{style:{fontSize:"11px",color:"rgba(255,255,255,0.3)"},children:t.model})]}),e.jsx("td",{style:{padding:"12px 15px",color:"rgba(255,255,255,0.7)",fontWeight:"600"},children:t.ownerName}),e.jsxs("td",{style:{padding:"12px 15px"},children:[e.jsx("div",{style:{color:"white"},children:t.dutyType}),e.jsx("div",{style:{fontSize:"11px",color:"rgba(255,255,255,0.3)"},children:t.dropLocation})]}),e.jsxs("td",{style:{padding:"12px 15px",textAlign:"right",color:"#34d399",fontWeight:"900",fontSize:"15px"},children:["₹",t.dutyAmount?.toLocaleString()]}),e.jsx("td",{style:{padding:"12px 15px",textAlign:"center"},children:e.jsx("button",{onClick:()=>oe(t._id),style:{background:"transparent",color:"rgba(244, 63, 94, 0.4)",border:"none",cursor:"pointer",padding:"5px"},children:e.jsx(q,{size:16})})})]},t._id))})]})})]},n._id):e.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"100px",textAlign:"center",color:"rgba(255,255,255,0.1)"},children:[e.jsx("div",{style:{width:"120px",height:"120px",borderRadius:"50%",border:"4px dashed rgba(255,255,255,0.05)",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"30px"},children:e.jsx(Se,{size:48})}),e.jsx("h2",{style:{fontSize:"24px",fontWeight:"900",margin:0},children:"Select an Event"}),e.jsx("p",{style:{maxWidth:"300px",marginTop:"10px"},children:"Select an event from the list to view detailed logs and car records."})]})})]}),e.jsx(_,{children:K&&e.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",backdropFilter:"blur(10px)",zIndex:1100,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:e.jsxs(A.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"glass-card",style:{width:"100%",maxWidth:"500px",padding:"30px",background:"#0f172a"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[e.jsx("h2",{style:{color:"white",fontSize:"24px",fontWeight:"900",margin:0},children:R?"Edit Event":"New Event"}),e.jsx("button",{onClick:()=>w(!1),style:{background:"none",border:"none",color:"white",cursor:"pointer"},children:e.jsx(L,{size:24})})]}),e.jsxs("form",{onSubmit:ae,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Event Name *"}),e.jsx("input",{type:"text",required:!0,className:"input-field",value:l.name,onChange:t=>x({...l,name:t.target.value}),placeholder:"e.g. Reliance Annual Meet"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Client"}),e.jsx("input",{type:"text",className:"input-field",value:l.client,onChange:t=>x({...l,client:t.target.value}),placeholder:"Client Name"})]}),e.jsxs("div",{children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Event Date *"}),e.jsx("input",{type:"date",required:!0,className:"input-field",value:l.date,onChange:t=>x({...l,date:t.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Venue / Location"}),e.jsx("input",{type:"text",className:"input-field",value:l.location,onChange:t=>x({...l,location:t.target.value}),placeholder:"Venue Details"})]}),e.jsxs("div",{children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Description (Optional)"}),e.jsx("textarea",{className:"input-field",style:{minHeight:"100px",paddingTop:"12px"},value:l.description,onChange:t=>x({...l,description:t.target.value}),placeholder:"Additional notes about the event..."})]}),e.jsx("button",{type:"submit",className:"btn-primary",style:{height:"54px",fontWeight:"900",marginTop:"10px"},children:R?"Save Changes":"Create Event"})]})]})})}),e.jsx(_,{children:Z&&e.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",backdropFilter:"blur(10px)",zIndex:1100,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:e.jsxs(A.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"glass-card",style:{width:"100%",maxWidth:"600px",padding:"30px",background:"#0f172a"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[e.jsxs("div",{children:[e.jsx("h2",{style:{color:"white",fontSize:"24px",fontWeight:"900",margin:0},children:"Add Car Duty"}),e.jsxs("p",{style:{color:"rgba(255,255,255,0.4)",fontSize:"12px",margin:0},children:["Linking car to: ",e.jsx("b",{children:n.name})]})]}),e.jsx("button",{onClick:()=>W(!1),style:{background:"none",border:"none",color:"white",cursor:"pointer"},children:e.jsx(L,{size:24})})]}),e.jsxs("form",{onSubmit:ne,style:{display:"flex",flexDirection:"column",gap:"20px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Car Number *"}),e.jsx("input",{type:"text",required:!0,className:"input-field",list:"carNumbers",value:a.carNumber,onChange:t=>ie(t.target.value),placeholder:"DL...",autoFocus:!0}),e.jsx("datalist",{id:"carNumbers",children:[...new Set(k.map(t=>t.carNumber?.split("#")[0]).filter(Boolean))].map(t=>e.jsx("option",{value:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Model *"}),e.jsx("input",{type:"text",required:!0,className:"input-field",list:"carModels",value:a.model,onChange:t=>d({...a,model:t.target.value}),placeholder:"e.g. Innova"}),e.jsx("datalist",{id:"carModels",children:[...new Set(k.map(t=>t.model).filter(Boolean))].map(t=>e.jsx("option",{value:t},t))})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Owner / Vendor"}),e.jsx("input",{type:"text",className:"input-field",list:"carOwners",value:a.ownerName,onChange:t=>d({...a,ownerName:t.target.value}),placeholder:"Vendor Name"}),e.jsx("datalist",{id:"carOwners",children:[...new Set(k.map(t=>t.ownerName).filter(Boolean))].map(t=>e.jsx("option",{value:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Date *"}),e.jsx("input",{type:"date",required:!0,className:"input-field",value:a.date,onChange:t=>d({...a,date:t.target.value})})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.5fr 1fr",gap:"15px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Duty Type"}),e.jsx("input",{type:"text",className:"input-field",value:a.dutyType,onChange:t=>d({...a,dutyType:t.target.value}),placeholder:"e.g. Guest Pickup"})]}),e.jsxs("div",{children:[e.jsx("label",{style:{color:"#34d399",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Amount (₹) *"}),e.jsx("input",{type:"number",required:!0,className:"input-field",style:{color:"#34d399",fontWeight:"900",fontSize:"18px"},value:a.dutyAmount,onChange:t=>d({...a,dutyAmount:t.target.value}),placeholder:"0.00"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",fontWeight:"800",textTransform:"uppercase",marginBottom:"8px",display:"block"},children:"Drop / Pickup Detail"}),e.jsx("input",{type:"text",className:"input-field",value:a.dropLocation,onChange:t=>d({...a,dropLocation:t.target.value}),placeholder:"Specific location..."})]}),e.jsx("button",{type:"submit",className:"btn-primary",style:{height:"54px",fontWeight:"900",marginTop:"10px",background:"linear-gradient(135deg, #10b981, #059669)"},children:"Confirm Car Assignment"})]})]})})}),e.jsx("style",{children:`
                .text-gradient-indigo {
                    background: linear-gradient(to right, #818cf8, #6366f1);
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                }
                .event-item-hover:hover {
                    background: rgba(255,255,255,0.02) !important;
                }
                .record-row-hover:hover {
                    background: rgba(255,255,255,0.02) !important;
                }
                .custom-scrollbar::-webkit-scrollbar { width: 5px; }
                .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
                .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.05); border-radius: 10px; }
                
                @keyframes pulse-red {
                    0% { transform: scale(1); opacity: 1; }
                    50% { transform: scale(1.05); opacity: 0.8; }
                    100% { transform: scale(1); opacity: 1; }
                }
                .badge-today {
                    animation: pulse-red 2s infinite;
                }
            `})]})};export{Ie as default};
